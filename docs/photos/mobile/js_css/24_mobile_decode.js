(function(){
(function(n,t,p){"function"===typeof define&&define.amd?define("plugins/jquery-mobile",["jquery"],function(E){p(E,n,t);return E.mobile}):p(n.jQuery,n,t)})(this,document,function(n,t,p,E){(function(a,h,c){var d={};a.mobile=a.extend({},{version:"1.2.0",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:25,touchOverflowEnabled:!1,
defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:50},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,
NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(b){"number"!==a.type(b)&&(b=a.mobile.defaultHomeScroll);a.event.special.scrollstart.enabled=!1;setTimeout(function(){h.scrollTo(0,b);a(p).trigger("silentscroll",{x:0,y:b})},20);setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:d,nsNormalize:function(b){if(b)return d[b]||(d[b]=a.camelCase(a.mobile.ns+b))},getInheritedTheme:function(a,
b){for(var e=a[0],c="",d=/ui-(bar|body|overlay)-([a-z])\b/,m,h;e&&!((m=e.className||"")&&(h=d.exec(m))&&(c=h[2]));)e=e.parentNode;return c||b||"a"},closestPageData:function(a){return a.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")},enhanceable:function(a){return this.haveParents(a,"enhance")},hijackable:function(a){return this.haveParents(a,"ajax")},haveParents:function(b,e){if(!a.mobile.ignoreContentEnabled)return b;for(var c=b.length,d=a(),q,m,h,r=0;r<c;r++){m=b.eq(r);h=
!1;for(q=b[r];q;){if("false"===(q.getAttribute?q.getAttribute("data-"+a.mobile.ns+e):"")){h=!0;break}q=q.parentNode}h||(d=d.add(m))}return d},getScreenHeight:function(){return h.innerHeight||a(h).height()}},a.mobile);a.fn.jqmData=function(b,e){var d;"undefined"!==typeof b&&(b&&(b=a.mobile.nsNormalize(b)),d=2>arguments.length||e===c?this.data(b):this.data(b,e));return d};a.jqmData=function(b,e,c){var d;"undefined"!==typeof e&&(d=a.data(b,e?a.mobile.nsNormalize(e):e,c));return d};a.fn.jqmRemoveData=
function(b){return this.removeData(a.mobile.nsNormalize(b))};a.jqmRemoveData=function(b,e){return a.removeData(b,a.mobile.nsNormalize(e))};a.fn.removeWithDependents=function(){a.removeWithDependents(this)};a.removeWithDependents=function(b){b=a(b);(b.jqmData("dependents")||a()).remove();b.remove()};a.fn.addDependents=function(b){a.addDependents(a(this),b)};a.addDependents=function(b,e){var c=a(b).jqmData("dependents")||a();a(b).jqmData("dependents",a.merge(c,e))};a.fn.getEncodedText=function(){return a("<div/>").text(a(this).text()).html()};
a.fn.jqmEnhanceable=function(){return a.mobile.enhanceable(this)};var b=a.find,e=/:jqmData\(([^)]*)\)/g;a.find=function(c,d,f,k){c=c.replace(e,"[data-"+(a.mobile.ns||"")+"$1]");return b.call(this,c,d,f,k)};a.extend(a.find,b);a.find.matches=function(b,e){return a.find(b,null,null,e)};a.find.matchesSelector=function(b,e){return 0<a.find(e,null,null,[b]).length}})(n,this);(function(a,h){var c=0,d=Array.prototype.slice,b=a.cleanData;a.cleanData=
function(e){for(var c=0,d;null!=(d=e[c]);c++)try{a(d).triggerHandler("remove")}catch(f){}b(e)};a.widget=function(b,c,d){var f,k,q,m,h=b.split(".")[0];b=b.split(".")[1];f=h+"-"+b;d||(d=c,c=a.Widget);a.expr[":"][f]=function(b){return!!a.data(b,f)};a[h]=a[h]||{};k=a[h][b];q=a[h][b]=function(a,b){if(!this._createWidget)return new q(a,b);arguments.length&&this._createWidget(a,b)};a.extend(q,k,{version:d.version,_proto:a.extend({},d),_childConstructors:[]});m=new c;m.options=a.widget.extend({},m.options);
a.each(d,function(b,e){a.isFunction(e)&&(d[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},d=function(a){return c.prototype[b].apply(this,a)};return function(){var b=this._super,c=this._superApply,g;this._super=a;this._superApply=d;g=e.apply(this,arguments);this._super=b;this._superApply=c;return g}}())});q.prototype=a.widget.extend(m,{widgetEventPrefix:b},d,{constructor:q,namespace:h,widgetName:b,widgetBaseClass:f,widgetFullName:f});k?(a.each(k._childConstructors,function(b,
e){var c=e.prototype;a.widget(c.namespace+"."+c.widgetName,q,e._proto)}),delete k._childConstructors):c._childConstructors.push(q);a.widget.bridge(b,q)};a.widget.extend=function(b){for(var c=d.call(arguments,1),g=0,f=c.length,k,q;g<f;g++)for(k in c[g])q=c[g][k],c[g].hasOwnProperty(k)&&q!==h&&(b[k]=a.isPlainObject(q)?a.widget.extend({},b[k],q):q);return b};a.widget.bridge=function(b,c){var g=c.prototype.widgetFullName;a.fn[b]=function(f){var k="string"===typeof f,q=d.call(arguments,1),m=this;f=!k&&
q.length?a.widget.extend.apply(null,[f].concat(q)):f;k?this.each(function(){var c,d=a.data(this,g);if(!d)return a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+f+"'");if(!a.isFunction(d[f])||"_"===f.charAt(0))return a.error("no such method '"+f+"' for "+b+" widget instance");c=d[f].apply(d,q);if(c!==d&&c!==h)return m=c&&c.jquery?m.pushStack(c.get()):c,!1}):this.each(function(){var b=a.data(this,g);b?b.option(f||{})._init():new c(f,this)});return m}};a.Widget=
function(a,b){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0];this.element=a(d);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},this.options,this._getCreateOptions(),b);this.bindings=a();this.hoverable=a();this.focusable=a();d!==this&&(a.data(d,this.widgetName,this),a.data(d,this.widgetFullName,
this),this._on({remove:"destroy"}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));
this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var d=b,f,k,q;if(0===arguments.length)return a.widget.extend({},this.options);if("string"===typeof b)if(d={},f=b.split("."),b=f.shift(),f.length){k=d[b]=a.widget.extend({},
this.options[b]);for(q=0;q<f.length-1;q++)k[f[q]]=k[f[q]]||{},k=k[f[q]];b=f.pop();if(c===h)return k[b]===h?null:k[b];k[b]=c}else{if(c===h)return this.options[b]===h?null:this.options[b];d[b]=c}this._setOptions(d);return this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),
this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c){c?(b=a(b),this.bindings=this.bindings.add(b)):(c=b,b=this.element);var d=this;a.each(c,function(c,l){function q(){if(!0!==d.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"===typeof l?d[l]:l).apply(d,arguments)}"string"!==typeof l&&(q.guid=l.guid=l.guid||q.guid||a.guid++);var m=c.match(/^(\w+)\s*(.*)$/),
h=m[1]+d.eventNamespace;(m=m[2])?d.widget().delegate(m,h,q):b.bind(h,q)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"===typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},
_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var f,k=this.options[b];d=d||{};c=a.Event(c);c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();c.target=this.element[0];if(b=c.originalEvent)for(f in b)f in c||(c[f]=b[f]);this.element.trigger(c,d);return!(a.isFunction(k)&&!1===k.apply(this.element[0],
[c].concat(d))||c.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,f,k){"string"===typeof f&&(f={effect:f});var q,m=f?!0===f||"number"===typeof f?c:f.effect||c:b;f=f||{};"number"===typeof f&&(f={duration:f});q=!a.isEmptyObject(f);f.complete=k;f.delay&&d.delay(f.delay);if(q&&a.effects&&(a.effects.effect[m]||!1!==a.uiBackCompat&&a.effects[m]))d[b](f);else if(m!==b&&d[m])d[m](f.duration,f.easing,k);else d.queue(function(c){a(this)[b]();
k&&k.call(d[0]);c()})}});!1!==a.uiBackCompat&&(a.Widget.prototype._getCreateOptions=function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]})})(n);(function(a,h){a.widget("mobile.widget",{_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments);this._trigger("init")},_getCreateOptions:function(){var c=this.element,d={};a.each(this.options,function(a){var e=c.jqmData(a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}));e!==h&&(d[a]=e)});return d},
enhanceWithin:function(c,d){this.enhance(a(this.options.initSelector,a(c)),d)},enhance:function(c,d){var b,e=a(c),e=a.mobile.enhanceable(e);d&&e.length&&(b=(b=a.mobile.closestPageData(e))&&b.keepNativeSelector()||"",e=e.not(b));e[this.widgetName]()},raise:function(a){throw"Widget ["+this.widgetName+"]: "+a;}})})(n);(function(a,h){a.extend(a.mobile,{loadingMessageTextVisible:E,loadingMessageTheme:E,loadingMessage:E,showPageLoadingMsg:function(b,c,d){a.mobile.loading("show",b,c,d)},hidePageLoadingMsg:function(){a.mobile.loading("hide")},
loading:function(){this.loaderWidget.loader.apply(this.loaderWidget,arguments)}});var c=a("html"),d=a(h);a.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='ui-loader'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var b=a("."+a.mobile.activeBtnClass).first();this.element.css({top:a.support.scrollTop&&d.scrollTop()+d.height()/2||b.length&&b.offset().top||100})},checkLoaderPosition:function(){var b=this.element.offset(),
c=d.scrollTop(),l=a.mobile.getScreenHeight();if(b.top<c||b.top-c>l)this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),d.unbind("scroll",this.checkLoaderPosition).bind("scroll",this.fakeFixLoader)},resetHtml:function(){this.element.html(a(this.defaultHtml).html())},show:function(b,e,l){var g,f,k;this.resetHtml();"object"===a.type(b)?(k=a.extend({},this.options,b),b=k.theme||a.mobile.loadingMessageTheme):(k=this.options,b=b||a.mobile.loadingMessageTheme||k.theme);f=e||a.mobile.loadingMessage||
k.text;c.addClass("ui-loading");if(!1!==a.mobile.loadingMessage||k.html)g=a.mobile.loadingMessageTextVisible!==E?a.mobile.loadingMessageTextVisible:k.textVisible,this.element.attr("class","ui-loader ui-corner-all ui-body-"+b+" ui-loader-"+(g||e||b.text?"verbose":"default")+(k.textonly||l?" ui-loader-textonly":"")),k.html?this.element.html(k.html):this.element.find("h1").text(f),this.element.appendTo(a.mobile.pageContainer),this.checkLoaderPosition(),d.bind("scroll",a.proxy(this.checkLoaderPosition,
this))},hide:function(){c.removeClass("ui-loading");a.mobile.loadingMessage&&this.element.removeClass("ui-loader-fakefix");a(h).unbind("scroll",a.proxy(this.fakeFixLoader,this));a(h).unbind("scroll",a.proxy(this.checkLoaderPosition,this))}});d.bind("pagecontainercreate",function(){a.mobile.loaderWidget=a.mobile.loaderWidget||a(a.mobile.loader.prototype.defaultHtml).loader()})})(n,this);(function(a,h,c,d){function b(a){for(;a&&"undefined"!==typeof a.originalEvent;)a=a.originalEvent;return a}function e(b){for(var c=
{},d,e;b;){d=a.data(b,s);for(e in d)d[e]&&(c[e]=c.hasVirtualBinding=!0);b=b.parentNode}return c}function l(){A&&(clearTimeout(A),A=0);A=setTimeout(function(){H=A=0;F.length=0;N=!1;I=!0},a.vmouse.resetTimerDuration)}function g(c,e,f){var g,l;if(!(l=f&&f[c])){if(f=!f)a:{for(f=e.target;f;){if((l=a.data(f,s))&&(!c||l[c]))break a;f=f.parentNode}f=null}l=f}if(l){g=e;f=g.type;var k,m;g=a.Event(g);g.type=c;c=g.originalEvent;l=a.event.props;-1<f.search(/^(mouse|click)/)&&(l=x);if(c)for(m=l.length,k;m;)k=l[--m],
g[k]=c[k];-1<f.search(/mouse(down|up)|click/)&&!g.which&&(g.which=1);if(-1!==f.search(/^touch/)&&(k=b(c),f=k.touches,k=k.changedTouches,c=f&&f.length?f[0]:k&&k.length?k[0]:d))for(f=0,l=y.length;f<l;f++)k=y[f],g[k]=c[k];a(e.target).trigger(g)}return g}function f(b){var c=a.data(b.target,w);N||H&&H===c||!(c=g("v"+b.type,b))||(c.isDefaultPrevented()&&b.preventDefault(),c.isPropagationStopped()&&b.stopPropagation(),c.isImmediatePropagationStopped()&&b.stopImmediatePropagation())}function k(c){var d=b(c).touches,
f;d&&1===d.length&&(f=c.target,d=e(f),d.hasVirtualBinding&&(H=Q++,a.data(f,w,H),A&&(clearTimeout(A),A=0),B=I=!1,f=b(c).touches[0],t=f.pageX,D=f.pageY,g("vmouseover",c,d),g("vmousedown",c,d)))}function q(a){I||(B||g("vmousecancel",a,e(a.target)),B=!0,l())}function m(c){if(!I){var d=b(c).touches[0],f=B,k=a.vmouse.moveDistanceThreshold,m=e(c.target);(B=B||Math.abs(d.pageX-t)>k||Math.abs(d.pageY-D)>k)&&!f&&g("vmousecancel",c,m);g("vmousemove",c,m);l()}}function z(a){if(!I){I=!0;var c=e(a.target),d;g("vmouseup",
a,c);B||(d=g("vclick",a,c))&&d.isDefaultPrevented()&&(d=b(a).changedTouches[0],F.push({touchID:H,x:d.clientX,y:d.clientY}),N=!0);g("vmouseout",a,c);B=!1;l()}}function r(b){b=a.data(b,s);var c;if(b)for(c in b)if(b[c])return!0;return!1}function p(){}function v(b){var c=b.substr(1);return{setup:function(d,e){r(this)||a.data(this,s,{});a.data(this,s)[b]=!0;n[b]=(n[b]||0)+1;1===n[b]&&K.bind(c,f);a(this).bind(c,p);O&&(n.touchstart=(n.touchstart||0)+1,1===n.touchstart&&K.bind("touchstart",k).bind("touchend",
z).bind("touchmove",m).bind("scroll",q))},teardown:function(d,e){--n[b];n[b]||K.unbind(c,f);O&&(--n.touchstart,n.touchstart||K.unbind("touchstart",k).unbind("touchmove",m).unbind("touchend",z).unbind("scroll",q));var g=a(this),l=a.data(this,s);l&&(l[b]=!1);g.unbind(c,p);r(this)||g.removeData(s)}}}var s="virtualMouseBindings",w="virtualTouchID";h="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" ");var y="clientX clientY pageX pageY screenX screenY".split(" "),x=a.event.props.concat(a.event.mouseHooks?
a.event.mouseHooks.props:[]),n={},A=0,t=0,D=0,B=!1,F=[],N=!1,I=!1,O="addEventListener"in c,K=a(c),Q=1,H=0,P;a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var L=0;L<h.length;L++)a.event.special[h[L]]=v(h[L]);O&&c.addEventListener("click",function(b){var c=F.length,d=b.target,e,f,g,l,k;if(c)for(e=b.clientX,f=b.clientY,P=a.vmouse.clickDistanceThreshold,g=d;g;){for(l=0;l<c;l++)if(k=F[l],g===d&&Math.abs(k.x-e)<P&&Math.abs(k.y-f)<P||a.data(g,w)===k.touchID){b.preventDefault();
b.stopPropagation();return}g=g.parentNode}},!0)})(n,t,p);(function(a,h){var c={touch:"ontouchend"in p};a.mobile=a.mobile||{};a.mobile.support=a.mobile.support||{};a.extend(a.support,c);a.extend(a.mobile.support,c)})(n);(function(a,h,c){function d(b,c,d){var e=d.type;d.type=c;a.event.dispatch.call(b,d);d.type=e}a.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(b,c){a.fn[c]=function(a){return a?this.bind(c,a):this.trigger(c)};a.attrFn&&
(a.attrFn[c]=!0)});var b=(h=a.mobile.support.touch)?"touchstart":"mousedown",e=h?"touchend":"mouseup",l=h?"touchmove":"mousemove";a.event.special.scrollstart={enabled:!0,setup:function(){function b(a,g){e=g;d(c,e?"scrollstart":"scrollstop",a)}var c=this,e,l;a(c).bind("touchmove scroll",function(c){a.event.special.scrollstart.enabled&&(e||b(c,!0),clearTimeout(l),l=setTimeout(function(){b(c,!1)},50))})}};a.event.special.tap={tapholdThreshold:750,setup:function(){var b=this,c=a(b);c.bind("vmousedown",
function(e){function l(){clearTimeout(u)}function m(){l();c.unbind("vclick",h).unbind("vmouseup",l);a(p).unbind("vmousecancel",m)}function h(a){m();r===a.target&&d(b,"tap",a)}if(e.which&&1!==e.which)return!1;var r=e.target,u;c.bind("vmouseup",l).bind("vclick",h);a(p).bind("vmousecancel",m);u=setTimeout(function(){d(b,"taphold",a.Event("taphold",{target:r}))},a.event.special.tap.tapholdThreshold)})}};a.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1E3,horizontalDistanceThreshold:30,
verticalDistanceThreshold:75,setup:function(){var d=a(this);d.bind(b,function(b){function k(b){if(m){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b;z={time:(new Date).getTime(),coords:[c.pageX,c.pageY]};Math.abs(m.coords[0]-z.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&b.preventDefault()}}var h=b.originalEvent.touches?b.originalEvent.touches[0]:b,m={time:(new Date).getTime(),coords:[h.pageX,h.pageY],origin:a(b.target)},z;d.bind(l,k).one(e,function(b){d.unbind(l,k);m&&z&&
z.time-m.time<a.event.special.swipe.durationThreshold&&(Math.abs(m.coords[0]-z.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(m.coords[1]-z.coords[1])<a.event.special.swipe.verticalDistanceThreshold)&&m.origin.trigger("swipe").trigger(m.coords[0]>z.coords[0]?"swipeleft":"swiperight");m=z=c})})}};a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(b,c){a.event.special[b]={setup:function(){a(this).bind(c,a.noop)}}})})(n,this);n.extend(n.support,
{orientation:"orientation"in t&&"onorientationchange"in t});(function(a){a.event.special.throttledresize={setup:function(){a(this).bind("resize",h)},teardown:function(){a(this).unbind("resize",h)}};var h=function(){b=(new Date).getTime();e=b-c;250<=e?(c=b,a(this).trigger("throttledresize")):(d&&clearTimeout(d),d=setTimeout(h,250-e))},c=0,d,b,e})(n);(function(a,h){function c(){var a=e();a!==l&&(l=a,d.trigger(b))}var d=a(h),b="orientationchange",e,l,g,f,k={0:!0,180:!0};a.support.orientation&&(g=h.innerWidth||
a(h).width(),f=h.innerHeight||a(h).height(),g=g>f&&50<g-f,f=k[h.orientation],g&&f||!g&&!f)&&(k={"-90":!0,90:!0});a.event.special.orientationchange=a.extend({},a.event.special.orientationchange,{setup:function(){if(a.support.orientation&&!a.event.special.orientationchange.disabled)return!1;l=e();d.bind("throttledresize",c)},teardown:function(){if(a.support.orientation&&!a.event.special.orientationchange.disabled)return!1;d.unbind("throttledresize",c)},add:function(a){var b=a.handler;a.handler=function(a){a.orientation=
e();return b.apply(this,arguments)}}});a.event.special.orientationchange.orientation=e=function(){var b=!0,b=p.documentElement;return(b=a.support.orientation?k[h.orientation]:b&&1.1>b.clientWidth/b.clientHeight)?"portrait":"landscape"};a.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)};a.attrFn&&(a.attrFn[b]=!0)})(n,this);(function(a,h){a(t);var c=a("html");a.mobile.media=function(){var d={},b=a("<div id='jquery-mediatest'></div>"),e=a("<body>").append(b);return function(a){if(!(a in d)){var g=
p.createElement("style"),f="@media "+a+" { #jquery-mediatest { position:absolute; } }";g.type="text/css";g.styleSheet?g.styleSheet.cssText=f:g.appendChild(p.createTextNode(f));c.prepend(e).prepend(g);d[a]="absolute"===b.css("position");e.add(g).remove()}return d[a]}}()})(n);(function(a,h){function c(a){var b=a.charAt(0).toUpperCase()+a.substr(1);a=(a+" "+l.join(b+" ")+b).split(" ");for(var c in a)if(e[a[c]]!==h)return!0}function d(a,b,c){var d=p.createElement("div");c=c?[c]:l;for(var e,f=0;f<c.length;f++){var g=
c[f],k="-"+g.charAt(0).toLowerCase()+g.substr(1)+"-"+a+": "+b+";",g=g.charAt(0).toUpperCase()+g.substr(1)+(a.charAt(0).toUpperCase()+a.substr(1));d.setAttribute("style",k);d.style[g]&&(e=!0)}return!!e}var b=a("<body>").prependTo("html"),e=b[0].style,l=["Webkit","Moz","O"],g="palmGetResource"in t,f=t.opera,k=t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini),q=t.blackberry&&!c("-webkit-transform");a.extend(a.mobile,{browser:{}});a.mobile.browser.ie=function(){var a=3,b=p.createElement("div"),
c=b.all||[];do b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><br><![endif]--\x3e";while(c[0]);return 4<a?a:!a}();a.extend(a.support,{cssTransitions:"WebKitTransitionEvent"in t||d("transition","height 100ms linear")&&!f,pushState:"pushState"in history&&"replaceState"in history,mediaquery:a.mobile.media("only all"),cssPseudoElement:!!c("content"),touchOverflow:!!c("overflowScrolling"),cssTransform3d:d("perspective","10px","moz")||a.mobile.media("(-"+l.join("-transform-3d),(-")+"-transform-3d),(transform-3d)"),
boxShadow:!!c("boxShadow")&&!q,scrollTop:("pageXOffset"in t||"scrollTop"in p.documentElement||"scrollTop"in b[0])&&!g&&!k,dynamicBaseTag:function(){var c=location.protocol+"//"+location.host+location.pathname+"ui-dir/",d=a("head base"),e=null,f="",g;d.length?f=d.attr("href"):d=e=a("<base>",{href:c}).appendTo("head");g=a("<a href='testurl' />").prependTo(b)[0].href;d[0].href=f||location.pathname;e&&e.remove();return 0===g.indexOf(c)}(),cssPointerEvents:function(){var a=p.createElement("x"),b=p.documentElement,
c=t.getComputedStyle;if(!("pointerEvents"in a.style))return!1;a.style.pointerEvents="auto";a.style.pointerEvents="x";b.appendChild(a);c=c&&"auto"===c(a,"").pointerEvents;b.removeChild(a);return!!c}(),boundingRect:"undefined"!==typeof p.createElement("div").getBoundingClientRect});b.remove();g=function(){var a=t.navigator.userAgent;return-1<a.indexOf("Nokia")&&(-1<a.indexOf("Symbian/3")||-1<a.indexOf("Series60/5"))&&-1<a.indexOf("AppleWebKit")&&a.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();a.mobile.gradeA=
function(){return(a.support.mediaquery||a.mobile.browser.ie&&7<=a.mobile.browser.ie)&&(a.support.boundingRect||null!==a.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))};a.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||k||g;g&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")});a.support.boxShadow||a("html").addClass("ui-mobile-nosupport-boxshadow")})(n);(function(a,h){a.widget("mobile.page",a.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},
_create:function(){var a=this;if(!1===a._trigger("beforecreate"))return!1;a.element.attr("tabindex","0").addClass("ui-page ui-body-"+a.options.theme).bind("pagebeforehide",function(){a.removeContainerBackground()}).bind("pagebeforeshow",function(){a.setContainerBackground()})},removeContainerBackground:function(){a.mobile.pageContainer.removeClass("ui-overlay-"+a.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(c){this.options.theme&&a.mobile.pageContainer.addClass("ui-overlay-"+
(c||this.options.theme))},keepNativeSelector:function(){var c=this.options;return c.keepNative&&a.trim(c.keepNative)&&c.keepNative!==c.keepNativeDefault?[c.keepNative,c.keepNativeDefault].join(", "):c.keepNativeDefault}})})(n);(function(a,h,c){function d(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var b="hashchange",e,l=a.event.special,g=p.documentMode,f="on"+b in h&&(g===c||7<g);a.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)};a.fn[b].delay=50;l[b]=a.extend(l[b],{setup:function(){if(f)return!1;
a(e.start)},teardown:function(){if(f)return!1;a(e.stop)}});e=function(){function e(){var c=d(),f=n(l);c!==l?(p(l=c,f),a(h).trigger(b)):f!==l&&(location.href=location.href.replace(/#.*/,"")+f);g=setTimeout(e,a.fn[b].delay)}var f={},g,l=d(),r=function(a){return a},p=r,n=r;f.start=function(){g||e()};f.stop=function(){g&&clearTimeout(g);g=c};return f}()})(n,this);(function(a,h,c){var d=function(b){b===c&&(b=!0);return function(c,d,f,k){var q=new a.Deferred,m=d?" reverse":"",p=a.mobile.urlHistory.getActive().lastScroll||
a.mobile.defaultHomeScroll,r=a.mobile.getScreenHeight(),n=!1!==a.mobile.maxTransitionWidth&&a(h).width()>a.mobile.maxTransitionWidth,v=!a.support.cssTransitions||n||!c||"none"===c||Math.max(a(h).scrollTop(),p)>a.mobile.getMaxScrollForTransition(),s=function(){a.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+c)},w=function(){a.event.special.scrollstart.enabled=!1;h.scrollTo(0,p);setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},y=function(){k.removeClass(a.mobile.activePageClass+
" out in reverse "+c).height("")},n=function(){k&&b&&y();f.css("z-index",-10);f.addClass(a.mobile.activePageClass+" ui-page-pre-in");a.mobile.focusPage(f);f.height(r+p);w();f.css("z-index","");v||f.animationComplete(x);f.removeClass(" ui-page-pre-in").addClass(c+" in"+m);v&&x()},x=function(){b||k&&y();f.removeClass("out in reverse "+c).height("");s();a(h).scrollTop()!==p&&w();q.resolve(c,d,f,k,!0)};s();k&&!v?(b?k.animationComplete(n):n(),k.height(r+a(h).scrollTop()).addClass(c+" out"+m)):n();return q.promise()}},
b=d(),d=d(!1);a.mobile.defaultTransitionHandler=b;a.mobile.transitionHandlers={"default":a.mobile.defaultTransitionHandler,sequential:b,simultaneous:d};a.mobile.transitionFallbacks={};a.mobile._maybeDegradeTransition=function(b){b&&(!a.support.cssTransform3d&&a.mobile.transitionFallbacks[b])&&(b=a.mobile.transitionFallbacks[b]);return b};a.mobile.getMaxScrollForTransition=a.mobile.getMaxScrollForTransition||function(){return 3*a.mobile.getScreenHeight()}})(n,this);(function(a,h){function c(b){!n||
n.closest("."+a.mobile.activePageClass).length&&!b||n.removeClass(a.mobile.activeBtnClass);n=null}function d(){v=!1;0<u.length&&a.mobile.changePage.apply(null,u.pop())}function b(b,c,d,e){c&&c.data("page")._trigger("beforehide",null,{nextPage:b});b.data("page")._trigger("beforeshow",null,{prevPage:c||a("")});a.mobile.hidePageLoadingMsg();d=a.mobile._maybeDegradeTransition(d);d=(a.mobile.transitionHandlers[d||"default"]||a.mobile.defaultTransitionHandler)(d,e,b,c);d.done(function(){c&&c.data("page")._trigger("hide",
null,{nextPage:b});b.data("page")._trigger("show",null,{prevPage:c||a("")})});return d}function e(){var b=a("."+a.mobile.activePageClass),c=parseFloat(b.css("padding-top")),d=parseFloat(b.css("padding-bottom")),e=parseFloat(b.css("border-top-width")),f=parseFloat(b.css("border-bottom-width"));b.css("min-height",A()-c-d-e-f)}function l(b,c){c&&b.attr("data-"+a.mobile.ns+"role",c);b.page()}function g(a){for(;a&&("string"!==typeof a.nodeName||"a"!==a.nodeName.toLowerCase());)a=a.parentNode;return a}
function f(b){b=a(b).closest(".ui-page").jqmData("url");var c=x.hrefNoHash;b&&m.isPath(b)||(b=c);return m.makeUrlAbsolute(b,c)}var k=a(t);a("html");var q=a("head"),m={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(a){var b=a?this.parseUrl(a):location;a=this.parseUrl(a||location.href).hash;return b.protocol+"//"+b.host+b.pathname+b.search+
("#"===a?"":a)},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(b){if("object"===a.type(b))return b;b=m.urlParseRE.exec(b||"")||[];return{href:b[0]||"",hrefNoHash:b[1]||"",hrefNoSearch:b[2]||"",domain:b[3]||"",protocol:b[4]||"",doubleSlash:b[5]||"",authority:b[6]||"",username:b[8]||"",password:b[9]||"",host:b[10]||"",hostname:b[11]||"",port:b[12]||"",pathname:b[13]||"",directory:b[14]||"",filename:b[15]||"",search:b[16]||"",hash:b[17]||""}},makePathAbsolute:function(a,
b){if(a&&"/"===a.charAt(0))return a;a=a||"";for(var c=(b=b?b.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?b.split("/"):[],d=a.split("/"),e=0;e<d.length;e++){var f=d[e];switch(f){case ".":break;case "..":c.length&&c.pop();break;default:c.push(f)}}return"/"+c.join("/")},isSameDomain:function(a,b){return m.parseUrl(a).domain===m.parseUrl(b).domain},isRelativeUrl:function(a){return""===m.parseUrl(a).protocol},isAbsoluteUrl:function(a){return""!==m.parseUrl(a).protocol},makeUrlAbsolute:function(a,b){if(!m.isRelativeUrl(a))return a;
b===h&&(b=x);var c=m.parseUrl(a),d=m.parseUrl(b),e=c.protocol||d.protocol,f=c.protocol?c.doubleSlash:c.doubleSlash||d.doubleSlash,g=c.authority||d.authority,l=""!==c.pathname,k=m.makePathAbsolute(c.pathname||d.filename,d.pathname);return e+f+g+k+(c.search||!l&&d.search||"")+c.hash},addSearchParams:function(b,c){var d=m.parseUrl(b),e="object"===typeof c?a.param(c):c,f=d.search||"?";return d.hrefNoSearch+f+("?"!==f.charAt(f.length-1)?"&":"")+e+(d.hash||"")},convertUrlToDataUrl:function(a){var b=m.parseUrl(a);
return m.isEmbeddedPage(b)?b.hash.split(s)[0].replace(/^#/,""):m.isSameDomain(b,x)?b.hrefNoHash.replace(x.domain,"").split(s)[0]:t.decodeURIComponent(a)},get:function(a){a===h&&(a=m.parseLocation().hash);return m.stripHash(a).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(b){var c="&"+a.mobile.subPageUrlKey;return b&&b.split(c)[0].split(s)[0]},set:function(a){location.hash=a},isPath:function(a){return/\//.test(a)},clean:function(a){return a.replace(x.domain,"")},stripHash:function(a){return a.replace(/^#/,
"")},cleanHash:function(a){return m.stripHash(a.replace(/\?.*$/,"").replace(s,""))},isHashValid:function(a){return/^#[^#]+$/.test(a)},isExternal:function(a){a=m.parseUrl(a);return a.protocol&&a.domain!==y.domain?!0:!1},hasProtocol:function(a){return/^(:?\w+:)/.test(a)},isFirstPageUrl:function(b){b=m.parseUrl(m.makeUrlAbsolute(b,x));var c=a.mobile.firstPage,c=c&&c[0]?c[0].id:h;return(b.hrefNoHash===y.hrefNoHash||G&&b.hrefNoHash===x.hrefNoHash)&&(!b.hash||"#"===b.hash||c&&b.hash.replace(/^#/,"")===
c)},isEmbeddedPage:function(a){a=m.parseUrl(a);return""!==a.protocol?a.hash&&(a.hrefNoHash===y.hrefNoHash||G&&a.hrefNoHash===x.hrefNoHash):/^#/.test(a.href)},isPermittedCrossDomainRequest:function(b,c){return a.mobile.allowCrossDomainPages&&"file:"===b.protocol&&-1!==c.search(/^https?:/)}},n=null,r={stack:[],activeIndex:0,getActive:function(){return r.stack[r.activeIndex]},getPrev:function(){return r.stack[r.activeIndex-1]},getNext:function(){return r.stack[r.activeIndex+1]},addNew:function(a,b,c,
d,e){r.getNext()&&r.clearForward();r.stack.push({url:a,transition:b,title:c,pageUrl:d,role:e});r.activeIndex=r.stack.length-1},clearForward:function(){r.stack=r.stack.slice(0,r.activeIndex+1)},directHashChange:function(b){var c,d,e;this.getActive();a.each(r.stack,function(a,f){decodeURIComponent(b.currentUrl)===decodeURIComponent(f.url)&&(c=a<r.activeIndex,d=!c,e=a)});this.activeIndex=e!==h?e:this.activeIndex;c?(b.either||b.isBack)(!0):d&&(b.either||b.isForward)(!1)},ignoreNextHashChange:!1},u=[],
v=!1,s="&ui-state=dialog",w=q.children("base"),y=m.parseLocation(),x=w.length?m.parseUrl(m.makeUrlAbsolute(w.attr("href"),y.href)):y,G=y.hrefNoHash!==x.hrefNoHash,A=a.mobile.getScreenHeight,C=a.support.dynamicBaseTag?{element:w.length?w:a("<base>",{href:x.hrefNoHash}).prependTo(q),set:function(a){C.element.attr("href",m.makeUrlAbsolute(a,x))},reset:function(){C.element.attr("href",x.hrefNoHash)}}:h;a.mobile.back=function(){var a=t.navigator;this.phonegapNavigationEnabled&&a&&a.app&&a.app.backHistory?
a.app.backHistory():t.history.back()};a.mobile.focusPage=function(a){var b=a.find("[autofocus]"),c=a.find(".ui-title:eq(0)");b.length?b.focus():c.length?c.focus():a.focus()};var D=!0,B,F;B=function(){if(D){var b=a.mobile.urlHistory.getActive();if(b){var c=k.scrollTop();b.lastScroll=c<a.mobile.minScrollBack?a.mobile.defaultHomeScroll:c}}};F=function(){setTimeout(B,100)};k.bind(a.support.pushState?"popstate":"hashchange",function(){D=!1});k.one(a.support.pushState?"popstate":"hashchange",function(){D=
!0});k.one("pagecontainercreate",function(){a.mobile.pageContainer.bind("pagechange",function(){D=!0;k.unbind("scrollstop",F);k.bind("scrollstop",F)})});k.bind("scrollstop",F);a.mobile._maybeDegradeTransition=a.mobile._maybeDegradeTransition||function(a){return a};a.fn.animationComplete=function(b){if(a.support.cssTransitions)return a(this).one("webkitAnimationEnd animationend",b);setTimeout(b,0);return a(this)};a.mobile.path=m;a.mobile.base=C;a.mobile.urlHistory=r;a.mobile.dialogHashKey=s;a.mobile.allowCrossDomainPages=
!1;a.mobile.getDocumentUrl=function(b){return b?a.extend({},y):y.href};a.mobile.getDocumentBase=function(b){return b?a.extend({},x):x.href};a.mobile._bindPageRemove=function(){var b=a(this);!b.data("page").options.domCache&&b.is(":jqmData(external-page='true')")&&b.bind("pagehide.remove",function(){var b=a(this),c=new a.Event("pageremove");b.trigger(c);c.isDefaultPrevented()||b.removeWithDependents()})};a.mobile.loadPage=function(b,c){var d=a.Deferred(),e=a.extend({},a.mobile.loadPage.defaults,c),
g=null,k=null,q=m.makeUrlAbsolute(b,a.mobile.activePage&&f(a.mobile.activePage)||x.hrefNoHash);e.data&&"get"===e.type&&(q=m.addSearchParams(q,e.data),e.data=h);e.data&&"post"===e.type&&(e.reloadPage=!0);var p=m.getFilePath(q),r=m.convertUrlToDataUrl(q);e.pageContainer=e.pageContainer||a.mobile.pageContainer;g=e.pageContainer.children("[data-"+a.mobile.ns+"url='"+r+"']");0===g.length&&(r&&!m.isPath(r))&&(g=e.pageContainer.children("#"+r).attr("data-"+a.mobile.ns+"url",r).jqmData("url",r));if(0===g.length)if(a.mobile.firstPage&&
m.isFirstPageUrl(p))a.mobile.firstPage.parent().length&&(g=a(a.mobile.firstPage));else if(m.isEmbeddedPage(p))return d.reject(q,c),d.promise();if(g.length){if(!e.reloadPage)return l(g,e.role),d.resolve(q,c,g),d.promise();k=g}var n=e.pageContainer,w=new a.Event("pagebeforeload"),s={url:b,absUrl:q,dataUrl:r,deferred:d,options:e};n.trigger(w,s);if(w.isDefaultPrevented())return d.promise();if(e.showLoadMsg)var z=setTimeout(function(){a.mobile.showPageLoadingMsg()},e.loadMsgDelay);C&&C.reset();a.mobile.allowCrossDomainPages||
m.isSameDomain(y,q)?a.ajax({url:p,type:e.type,data:e.data,dataType:"html",success:function(f,h,y){var n=a("<div></div>"),w=f.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,x=RegExp("\\bdata-"+a.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");RegExp("(<[^>]+\\bdata-"+a.mobile.ns+"role=[\"']?page[\"']?[^>]*>)").test(f)&&(RegExp.$1&&x.test(RegExp.$1)&&RegExp.$1)&&(b=p=m.getFilePath(a("<div>"+RegExp.$1+"</div>").text()));C&&C.set(p);n.get(0).innerHTML=f;g=n.find(":jqmData(role='page'), :jqmData(role='dialog')").first();
g.length||(g=a("<div data-"+a.mobile.ns+"role='page'>"+f.split(/<\/?body[^>]*>/gmi)[1]+"</div>"));w&&!g.jqmData("title")&&(~w.indexOf("&")&&(w=a("<div>"+w+"</div>").text()),g.jqmData("title",w));if(!a.support.dynamicBaseTag){var u=m.get(p);g.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var b=a(this).is("[href]")?"href":a(this).is("[src]")?"src":"action",c=a(this).attr(b),c=c.replace(location.protocol+"//"+location.host+location.pathname,"");/^(\w+:|#|\/)/.test(c)||
a(this).attr(b,u+c)})}g.attr("data-"+a.mobile.ns+"url",m.convertUrlToDataUrl(p)).attr("data-"+a.mobile.ns+"external-page",!0).appendTo(e.pageContainer);g.one("pagecreate",a.mobile._bindPageRemove);l(g,e.role);-1<q.indexOf("&"+a.mobile.subPageUrlKey)&&(g=e.pageContainer.children("[data-"+a.mobile.ns+"url='"+r+"']"));e.showLoadMsg&&(clearTimeout(z),a.mobile.hidePageLoadingMsg());s.xhr=y;s.textStatus=h;s.page=g;e.pageContainer.trigger("pageload",s);d.resolve(q,c,g,k)},error:function(b,f,g){C&&C.set(m.get());
s.xhr=b;s.textStatus=f;s.errorThrown=g;b=new a.Event("pageloadfailed");e.pageContainer.trigger(b,s);b.isDefaultPrevented()||(e.showLoadMsg&&(clearTimeout(z),a.mobile.hidePageLoadingMsg(),a.mobile.showPageLoadingMsg(a.mobile.pageLoadErrorMessageTheme,a.mobile.pageLoadErrorMessage,!0),setTimeout(a.mobile.hidePageLoadingMsg,1500)),d.reject(q,c))}}):d.reject(q,c);return d.promise()};a.mobile.loadPage.defaults={type:"get",data:h,reloadPage:!1,role:h,showLoadMsg:!1,pageContainer:h,loadMsgDelay:50};a.mobile.changePage=
function(e,f){if(v)u.unshift(arguments);else{var g=a.extend({},a.mobile.changePage.defaults,f);g.pageContainer=g.pageContainer||a.mobile.pageContainer;g.fromPage=g.fromPage||a.mobile.activePage;var k=g.pageContainer,q=new a.Event("pagebeforechange"),n={toPage:e,options:g};k.trigger(q,n);if(!q.isDefaultPrevented())if(e=n.toPage,v=!0,"string"===typeof e)a.mobile.loadPage(e,g).done(function(b,c,d,e){v=!1;c.duplicateCachedPage=e;a.mobile.changePage(d,c)}).fail(function(a,b){v=!1;c(!0);d();g.pageContainer.trigger("pagechangefailed",
n)});else{e[0]!==a.mobile.firstPage[0]||g.dataUrl||(g.dataUrl=y.hrefNoHash);var q=g.fromPage,w=g.dataUrl&&m.convertUrlToDataUrl(g.dataUrl)||e.jqmData("url"),z=w;m.getFilePath(w);var x=r.getActive(),A=0===r.activeIndex,t=0,G=p.title,B="dialog"===g.role||"dialog"===e.jqmData("role");if(q&&q[0]===e[0]&&!g.allowSamePageTransition)v=!1,k.trigger("pagechange",n),g.fromHashChange&&r.directHashChange({currentUrl:w,isBack:function(){},isForward:function(){}});else{l(e,g.role);g.fromHashChange&&r.directHashChange({currentUrl:w,
isBack:function(){t=-1},isForward:function(){t=1}});try{p.activeElement&&"body"!==p.activeElement.nodeName.toLowerCase()?a(p.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(C){}var D=!1;B&&x&&(-1<x.url.indexOf(s)&&!a.mobile.activePage.is(".ui-dialog")&&(g.changeHash=!1,D=!0),w=(x.url||"")+(D?"":s),0===r.activeIndex&&w===r.initialDst&&(w+=s));!1!==g.changeHash&&w&&(r.ignoreNextHashChange=!0,m.set(w));var F=x?e.jqmData("title")||e.children(":jqmData(role='header')").find(".ui-title").getEncodedText():
G;F&&G===p.title&&(G=F);e.jqmData("title")||e.jqmData("title",G);g.transition=g.transition||(t&&!A?x.transition:h)||(B?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition);t||(D&&(r.activeIndex=Math.max(0,r.activeIndex-1)),r.addNew(w,g.transition,G,z,g.role));p.title=r.getActive().title;a.mobile.activePage=e;g.reverse=g.reverse||0>t;b(e,q,g.transition,g.reverse).done(function(b,f,l,m,h){c();g.duplicateCachedPage&&g.duplicateCachedPage.remove();h||a.mobile.focusPage(e);d();k.trigger("pagechange",
n)})}}}};a.mobile.changePage.defaults={transition:h,reverse:!1,changeHash:!0,fromHashChange:!1,role:h,duplicateCachedPage:h,pageContainer:h,showLoadMsg:!0,dataUrl:h,fromPage:h,allowSamePageTransition:!1};a.mobile.navreadyDeferred=a.Deferred();a.mobile.navreadyDeferred.done(function(){a(p).delegate("form","submit",function(b){var c=a(this);if(a.mobile.ajaxEnabled&&!c.is(":jqmData(ajax='false')")&&c.jqmHijackable().length){var d=c.attr("method"),e=c.attr("target"),g=c.attr("action");g||(g=f(c),g===
x.hrefNoHash&&(g=y.hrefNoSearch));g=m.makeUrlAbsolute(g,f(c));m.isExternal(g)&&!m.isPermittedCrossDomainRequest(y,g)||e||(a.mobile.changePage(g,{type:d&&d.length&&d.toLowerCase()||"get",data:c.serialize(),transition:c.jqmData("transition"),reverse:"reverse"===c.jqmData("direction"),reloadPage:!0}),b.preventDefault())}});a(p).bind("vclick",function(b){1<b.which||!a.mobile.linkBindingEnabled||(b=g(b.target),a(b).jqmHijackable().length&&(b&&"#"!==m.parseUrl(b.getAttribute("href")||"#").hash)&&(c(!0),
n=a(b).closest(".ui-btn").not(".ui-disabled"),n.addClass(a.mobile.activeBtnClass)))});a(p).bind("click",function(b){if(a.mobile.linkBindingEnabled){var d=g(b.target),e=a(d),l;if(d&&!(1<b.which)&&e.jqmHijackable().length){l=function(){t.setTimeout(function(){c(!0)},200)};if(e.is(":jqmData(rel='back')"))return a.mobile.back(),!1;var k=f(e),d=m.makeUrlAbsolute(e.attr("href")||"#",k);if(a.mobile.ajaxEnabled||m.isEmbeddedPage(d)){if(-1!==d.search("#"))if(d=d.replace(/[^#]*#/,""))d=m.isPath(d)?m.makeUrlAbsolute(d,
k):m.makeUrlAbsolute("#"+d,y.hrefNoHash);else{b.preventDefault();return}if(e.is("[rel='external']")||(e.is(":jqmData(ajax='false')")||e.is("[target]"))||m.isExternal(d)&&!m.isPermittedCrossDomainRequest(y,d))l();else{l=e.jqmData("transition");var k="reverse"===e.jqmData("direction")||e.jqmData("back"),q=e.attr("data-"+a.mobile.ns+"rel")||h;a.mobile.changePage(d,{transition:l,reverse:k,role:q,link:e});b.preventDefault()}}else l()}}});a(p).delegate(".ui-page","pageshow.prefetch",function(){var b=[];
a(this).find("a:jqmData(prefetch)").each(function(){var c=a(this),d=c.attr("href");d&&-1===a.inArray(d,b)&&(b.push(d),a.mobile.loadPage(d,{role:c.attr("data-"+a.mobile.ns+"rel")}))})});a.mobile._handleHashChange=function(b){var c=m.stripHash(b);b=0===a.mobile.urlHistory.stack.length?"none":h;var d=new a.Event("navigate"),e={transition:b,changeHash:!1,fromHashChange:!0};0===r.stack.length&&(r.initialDst=c);a.mobile.pageContainer.trigger(d);if(!d.isDefaultPrevented())if(!a.mobile.hashListeningEnabled||
r.ignoreNextHashChange)r.ignoreNextHashChange=!1;else{if(1<r.stack.length&&-1<c.indexOf(s)&&r.initialDst!==c)if(a.mobile.activePage.is(".ui-dialog"))r.directHashChange({currentUrl:c,either:function(b){var d=a.mobile.urlHistory.getActive();c=d.pageUrl;a.extend(e,{role:d.role,transition:d.transition,reverse:b})}});else{r.directHashChange({currentUrl:c,isBack:function(){a.mobile.back()},isForward:function(){t.history.forward()}});return}c?(c="string"!==typeof c||m.isPath(c)?c:m.makeUrlAbsolute("#"+c,
x),c===m.makeUrlAbsolute("#"+r.initialDst,x)&&(r.stack.length&&r.stack[0].url!==r.initialDst.replace(s,""))&&(c=a.mobile.firstPage),a.mobile.changePage(c,e)):a.mobile.changePage(a.mobile.firstPage,e)}};k.bind("hashchange",function(b,c){a.mobile._handleHashChange(m.parseLocation().hash)});a(p).bind("pageshow",e);a(t).bind("throttledresize",e)})})(n);(function(a,h){var c={},d=a(h),b=a.mobile.path.parseLocation(),e=a.Deferred(),l=a.Deferred();a(p).ready(a.proxy(l,"resolve"));a(p).one("mobileinit",a.proxy(e,
"resolve"));a.extend(c,{initialFilePath:b.pathname+b.search,hashChangeTimeout:200,hashChangeEnableTimer:E,initialHref:b.hrefNoHash,state:function(){return{hash:a.mobile.path.parseLocation().hash||"#"+c.initialFilePath,title:p.title,initialHref:c.initialHref}},resetUIKeys:function(b){var c="&"+a.mobile.subPageUrlKey,d=b.indexOf(a.mobile.dialogHashKey);-1<d?b=b.slice(0,d)+"#"+b.slice(d):-1<b.indexOf(c)&&(b=b.split(c).join("#"+c));return b},nextHashChangePrevented:function(b){a.mobile.urlHistory.ignoreNextHashChange=
b;c.onHashChangeDisabled=b},onHashChange:function(b){if(!c.onHashChangeDisabled){var d;d=a.mobile.path.parseLocation().hash;var e=a.mobile.path.isPath(d),l=e?a.mobile.path.getLocation():a.mobile.getDocumentUrl();d=e?d.replace("#",""):d;b=c.state();d=a.mobile.path.makeUrlAbsolute(d,l);e&&(d=c.resetUIKeys(d));history.replaceState(b,p.title,d)}},onPopState:function(b){if(b=b.originalEvent.state)clearTimeout(c.hashChangeEnableTimer),c.nextHashChangePrevented(!1),a.mobile._handleHashChange(b.hash),c.nextHashChangePrevented(!0),
c.hashChangeEnableTimer=setTimeout(function(){c.nextHashChangePrevented(!1)},c.hashChangeTimeout)},init:function(){d.bind("hashchange",c.onHashChange);d.bind("popstate",c.onPopState);""===location.hash&&history.replaceState(c.state(),p.title,a.mobile.path.getLocation())}});a.when(l,e,a.mobile.navreadyDeferred).done(function(){a.mobile.pushStateEnabled&&a.support.pushState&&c.init()})})(n,this);n.mobile.transitionFallbacks.flip="fade";n.mobile.transitionFallbacks.flow="fade";n.mobile.transitionFallbacks.pop=
"fade";(function(a,h,c){a.mobile.transitionHandlers.slide=a.mobile.transitionHandlers.simultaneous;a.mobile.transitionFallbacks.slide="fade"})(n,this);n.mobile.transitionFallbacks.slidedown="fade";n.mobile.transitionFallbacks.slidefade="fade";n.mobile.transitionFallbacks.slideup="fade";n.mobile.transitionFallbacks.turn="fade";(function(a,h){a.mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,
time:!1,url:!1,week:!1};a(p).bind("pagecreate create",function(c){var d=a.mobile.closestPageData(a(c.target)),b;d&&(b=d.options,a(c.target).find("input").not(d.keepNativeSelector()).each(function(){var c=a(this),d=this.getAttribute("type"),g=b.degradeInputs[d]||"text";if(b.degradeInputs[d]){var f=a("<div>").html(c.clone()).html(),k=-1<f.indexOf(" type=");c.replaceWith(f.replace(k?/\s+type=["']?\w+['"]?/:/\/?>/,' type="'+g+'" data-'+a.mobile.ns+'type="'+d+'"'+(k?"":">")))}}))})})(n);(function(a,h,
c){a.widget("mobile.dialog",a.mobile.widget,{options:{closeBtnText:"Close",overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var c=this,b=this.element,e=a("<a href='#' data-"+a.mobile.ns+"icon='delete' data-"+a.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),l=a("<div/>",{role:"dialog","class":"ui-dialog-contain ui-corner-all ui-overlay-shadow"});b.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme);b.wrapInner(l).children().find(":jqmData(role='header')").prepend(e).end().children(":first-child").addClass("ui-corner-top").end().children(":last-child").addClass("ui-corner-bottom");
e.bind("click",function(){c.close()});b.bind("vclick submit",function(b){b=a(b.target).closest("vclick"===b.type?"a":"form");var c;b.length&&!b.jqmData("transition")&&(c=a.mobile.urlHistory.getActive()||{},b.attr("data-"+a.mobile.ns+"transition",c.transition||a.mobile.defaultDialogTransition).attr("data-"+a.mobile.ns+"direction","reverse"))}).bind("pagehide",function(b,c){a(this).find("."+a.mobile.activeBtnClass).not(".ui-slider-bg").removeClass(a.mobile.activeBtnClass)}).bind("pagebeforeshow",function(){c._isCloseable=
!0;c.options.overlayTheme&&c.element.page("removeContainerBackground").page("setContainerBackground",c.options.overlayTheme)})},close:function(){var c;this._isCloseable&&(this._isCloseable=!1,a.mobile.hashListeningEnabled?a.mobile.back():(c=a.mobile.urlHistory.getPrev().url,a.mobile.path.isPath(c)||(c=a.mobile.path.makeUrlAbsolute("#"+c)),a.mobile.changePage(c,{changeHash:!1,fromHashChange:!0})))}});a(p).delegate(a.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){a.mobile.dialog.prototype.enhance(this)})})(n,
this);(function(a,h){a.mobile.page.prototype.options.backBtnText="Back";a.mobile.page.prototype.options.addBackBtn=!1;a.mobile.page.prototype.options.backBtnTheme=null;a.mobile.page.prototype.options.headerTheme="a";a.mobile.page.prototype.options.footerTheme="a";a.mobile.page.prototype.options.contentTheme=null;a(p).bind("pagecreate",function(c){var d=a(c.target),b=d.data("page").options,e=d.jqmData("role"),l=b.theme;a(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",
d).jqmEnhanceable().each(function(){var c=a(this),f=c.jqmData("role"),k=c.jqmData("theme"),h=k||b.contentTheme||"dialog"===e&&l,m;c.addClass("ui-"+f);if("header"===f||"footer"===f){var p=k||("header"===f?b.headerTheme:b.footerTheme)||l;c.addClass("ui-bar-"+p).attr("role","header"===f?"banner":"contentinfo");"header"===f&&(k=c.children("a, button"),m=k.hasClass("ui-btn-left"),h=k.hasClass("ui-btn-right"),m=m||k.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,h||k.eq(1).addClass("ui-btn-right"));
b.addBackBtn&&("header"===f&&1<a(".ui-page").length&&d.jqmData("url")!==a.mobile.path.stripHash(location.hash)&&!m)&&a("<a href='javascript:void(0);' class='ui-btn-left' data-"+a.mobile.ns+"rel='back' data-"+a.mobile.ns+"icon='arrow-l'>"+b.backBtnText+"</a>").attr("data-"+a.mobile.ns+"theme",b.backBtnTheme||p).prependTo(c);c.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}else"content"===f&&(h&&c.addClass("ui-body-"+h),c.attr("role","main"))})})})(n);
(function(a,h){a.fn.fieldcontain=function(a){return this.addClass("ui-field-contain ui-body ui-br").contents().filter(function(){return 3===this.nodeType&&!/\S/.test(this.nodeValue)}).remove()};a(p).bind("pagecreate create",function(c){a(":jqmData(role='fieldcontain')",c.target).jqmEnhanceable().fieldcontain()})})(n);(function(a,h){a.fn.grid=function(c){return this.each(function(){var d=a(this),b=a.extend({grid:null},c),e=d.children(),l={solo:1,a:2,b:3,c:4,d:5},b=b.grid;if(!b)if(5>=e.length)for(var g in l)l[g]===
e.length&&(b=g);else b="a",d.addClass("ui-grid-duo");l=l[b];d.addClass("ui-grid-"+b);e.filter(":nth-child("+l+"n+1)").addClass("ui-block-a");1<l&&e.filter(":nth-child("+l+"n+2)").addClass("ui-block-b");2<l&&e.filter(":nth-child("+l+"n+3)").addClass("ui-block-c");3<l&&e.filter(":nth-child("+l+"n+4)").addClass("ui-block-d");4<l&&e.filter(":nth-child("+l+"n+5)").addClass("ui-block-e")})}})(n);(function(a,h){a(p).bind("pagecreate create",function(c){a(":jqmData(role='nojs')",c.target).addClass("ui-nojs")})})(n);
(function(a,h){function c(a){for(var c;a&&!((c="string"===typeof a.className&&a.className+" ")&&-1<c.indexOf("ui-btn ")&&0>c.indexOf("ui-disabled "));)a=a.parentNode;return a}a.fn.buttonMarkup=function(b){var c=function(b,c){f.setAttribute("data-"+a.mobile.ns+b,c);g.jqmData(b,c)};b=b&&"object"===a.type(b)?b:{};for(var l=0;l<this.length;l++){var g=this.eq(l),f=g[0],k=a.extend({},a.fn.buttonMarkup.defaults,{icon:b.icon!==h?b.icon:g.jqmData("icon"),iconpos:b.iconpos!==h?b.iconpos:g.jqmData("iconpos"),
theme:b.theme!==h?b.theme:g.jqmData("theme")||a.mobile.getInheritedTheme(g,"c"),inline:b.inline!==h?b.inline:g.jqmData("inline"),shadow:b.shadow!==h?b.shadow:g.jqmData("shadow"),corners:b.corners!==h?b.corners:g.jqmData("corners"),iconshadow:b.iconshadow!==h?b.iconshadow:g.jqmData("iconshadow"),mini:b.mini!==h?b.mini:g.jqmData("mini")},b),q="ui-btn-inner",m,n,r,u,v,s;a.each(k,c);"popup"===g.jqmData("rel")&&g.attr("href")&&(f.setAttribute("aria-haspopup",!0),f.setAttribute("aria-owns",f.getAttribute("href")));
(s=a.data("INPUT"===f.tagName||"BUTTON"===f.tagName?f.parentNode:f,"buttonElements"))?(f=s.outer,g=a(f),r=s.inner,u=s.text,a(s.icon).remove(),s.icon=null):(r=p.createElement(k.wrapperEls),u=p.createElement(k.wrapperEls));v=k.icon?p.createElement("span"):null;d&&!s&&d();k.theme||(k.theme=a.mobile.getInheritedTheme(g,"c"));m="ui-btn ui-btn-up-"+k.theme;m+=k.shadow?" ui-shadow":"";m+=k.corners?" ui-btn-corner-all":"";k.mini!==h&&(m+=!0===k.mini?" ui-mini":" ui-fullsize");k.inline!==h&&(m+=!0===k.inline?
" ui-btn-inline":" ui-btn-block");k.icon&&(k.icon="ui-icon-"+k.icon,k.iconpos=k.iconpos||"left",n="ui-icon "+k.icon,k.iconshadow&&(n+=" ui-icon-shadow"));k.iconpos&&(m+=" ui-btn-icon-"+k.iconpos,"notext"!==k.iconpos||g.attr("title")||g.attr("title",g.getEncodedText()));q+=k.corners?" ui-btn-corner-all":"";k.iconpos&&("notext"===k.iconpos&&!g.attr("title"))&&g.attr("title",g.getEncodedText());s&&g.removeClass(s.bcls||"");g.removeClass("ui-link").addClass(m);r.className=q;u.className="ui-btn-text";
s||r.appendChild(u);v&&(v.className=n,s&&s.icon||(v.innerHTML="&#160;",r.appendChild(v)));for(;f.firstChild&&!s;)u.appendChild(f.firstChild);s||f.appendChild(r);s={bcls:m,outer:f,inner:r,text:u,icon:v};a.data(f,"buttonElements",s);a.data(r,"buttonElements",s);a.data(u,"buttonElements",s);v&&a.data(v,"buttonElements",s)}return this};a.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,wrapperEls:"span"};var d=function(){var b=a.mobile.buttonMarkup.hoverDelay,e,l;a(p).bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(d){var f,
k=a(c(d.target)),h=d.originalEvent&&/^touch/.test(d.originalEvent.type);d=d.type;if(k.length)if(f=k.attr("data-"+a.mobile.ns+"theme"),"vmousedown"===d)h?e=setTimeout(function(){k.removeClass("ui-btn-up-"+f).addClass("ui-btn-down-"+f)},b):k.removeClass("ui-btn-up-"+f).addClass("ui-btn-down-"+f);else if("vmousecancel"===d||"vmouseup"===d)k.removeClass("ui-btn-down-"+f).addClass("ui-btn-up-"+f);else if("vmouseover"===d||"focus"===d)h?l=setTimeout(function(){k.removeClass("ui-btn-up-"+f).addClass("ui-btn-hover-"+
f)},b):k.removeClass("ui-btn-up-"+f).addClass("ui-btn-hover-"+f);else if("vmouseout"===d||"blur"===d||"scrollstart"===d)k.removeClass("ui-btn-hover-"+f+" ui-btn-down-"+f).addClass("ui-btn-up-"+f),e&&clearTimeout(e),l&&clearTimeout(l)},"focusin focus":function(b){a(c(b.target)).addClass(a.mobile.focusClass)},"focusout blur":function(b){a(c(b.target)).removeClass(a.mobile.focusClass)}});d=null};a(p).bind("pagecreate create",function(b){a(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",
b.target).jqmEnhanceable().not("button, input, .ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})})(n);(function(a,h){a.widget("mobile.collapsible",a.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,inset:!0,mini:!1,initSelector:":jqmData(role='collapsible')"},_create:function(){var c=this.element,d=this.options,b=c.addClass("ui-collapsible"),
e=c.children(d.heading).first(),l=c.jqmData("collapsed-icon")||d.collapsedIcon,g=c.jqmData("expanded-icon")||d.expandedIcon,f=b.wrapInner("<div class='ui-collapsible-content'></div>").children(".ui-collapsible-content"),k=c.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");e.is("legend")&&(e=a("<div role='heading'>"+e.html()+"</div>").insertBefore(e),e.next().remove());k.length?(d.theme||(d.theme=k.jqmData("theme")||a.mobile.getInheritedTheme(k,"c")),d.contentTheme||(d.contentTheme=
k.jqmData("content-theme")),d.collapsedIcon||(d.collapsedIcon=k.jqmData("collapsed-icon")),d.expandedIcon||(d.expandedIcon=k.jqmData("expanded-icon")),d.iconPos||(d.iconPos=k.jqmData("iconpos")),k.jqmData("inset")!==h?d.inset=k.jqmData("inset"):d.inset=!0,d.mini||(d.mini=k.jqmData("mini"))):d.theme||(d.theme=a.mobile.getInheritedTheme(c,"c"));d.inset&&b.addClass("ui-collapsible-inset");f.addClass(d.contentTheme?"ui-body-"+d.contentTheme:"");l=c.jqmData("collapsed-icon")||d.collapsedIcon||"plus";g=
c.jqmData("expanded-icon")||d.expandedIcon||"minus";e.insertBefore(f).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconpos:c.jqmData("iconpos")||d.iconPos||"left",icon:l,mini:d.mini,theme:d.theme});d.inset&&e.find("a").first().add(".ui-btn-inner",c).addClass("ui-corner-top ui-corner-bottom");b.bind("expand collapse",function(c){if(!c.isDefaultPrevented()){var m=
a(this),h="collapse"===c.type,p=d.contentTheme;c.preventDefault();e.toggleClass("ui-collapsible-heading-collapsed",h).find(".ui-collapsible-heading-status").text(h?d.expandCueText:d.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-"+g,!h).toggleClass("ui-icon-"+l,h||g===l).end().find("a").first().removeClass(a.mobile.activeBtnClass);m.toggleClass("ui-collapsible-collapsed",h);f.toggleClass("ui-collapsible-content-collapsed",h).attr("aria-hidden",h);p&&(d.inset&&(!k.length||b.jqmData("collapsible-last")))&&
(e.find("a").first().add(e.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",h),f.toggleClass("ui-corner-bottom",!h));f.trigger("updatelayout")}}).trigger(d.collapsed?"collapse":"expand");e.bind("tap",function(b){e.find("a").first().addClass(a.mobile.activeBtnClass)}).bind("click",function(a){var c=e.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";b.trigger(c);a.preventDefault();a.stopPropagation()})}});a(p).bind("pagecreate create",function(c){a.mobile.collapsible.prototype.enhanceWithin(c.target)})})(n);
(function(a,h){a.widget("mobile.collapsibleset",a.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var c=this.element.addClass("ui-collapsible-set"),d=this.options;d.theme||(d.theme=a.mobile.getInheritedTheme(c,"c"));d.contentTheme||(d.contentTheme=c.jqmData("content-theme"));c.jqmData("inset")!==h&&(d.inset=c.jqmData("inset"));d.inset=d.inset!==h?d.inset:!0;c.jqmData("collapsiblebound")||c.jqmData("collapsiblebound",!0).bind("expand collapse",function(b){var c=
"collapse"===b.type;b=a(b.target).closest(".ui-collapsible");b.data("collapsible");b.jqmData("collapsible-last")&&d.inset&&(b.find(".ui-collapsible-heading").first().find("a").first().toggleClass("ui-corner-bottom",c).find(".ui-btn-inner").toggleClass("ui-corner-bottom",c),b.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!c))}).bind("expand",function(b){b=a(b.target).closest(".ui-collapsible");b.parent().is(":jqmData(role='collapsible-set')")&&b.siblings(".ui-collapsible").trigger("collapse")})},
_init:function(){var a=this.element.children(":jqmData(role='collapsible')").filter(":jqmData(collapsed='false')");this.refresh();a.trigger("expand")},refresh:function(){var c=this.options,d=this.element.children(":jqmData(role='collapsible')");a.mobile.collapsible.prototype.enhance(d.not(".ui-collapsible"));c.inset&&(d.each(function(){a(this).jqmRemoveData("collapsible-last").find(".ui-collapsible-heading").find("a").first().removeClass("ui-corner-top ui-corner-bottom").find(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")}),
d.first().find("a").first().addClass("ui-corner-top").find(".ui-btn-inner").addClass("ui-corner-top"),d.last().jqmData("collapsible-last",!0).find("a").first().addClass("ui-corner-bottom").find(".ui-btn-inner").addClass("ui-corner-bottom"))}});a(p).bind("pagecreate create",function(c){a.mobile.collapsibleset.prototype.enhanceWithin(c.target)})})(n);(function(a,h){a.widget("mobile.navbar",a.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var c=
this.element,d=c.find("a"),b=d.filter(":jqmData(icon)").length?this.options.iconpos:h;c.addClass("ui-navbar ui-mini").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid});d.buttonMarkup({corners:!1,shadow:!1,inline:!0,iconpos:b});c.delegate("a","vclick",function(b){a(b.target).hasClass("ui-disabled")||(d.removeClass(a.mobile.activeBtnClass),a(this).addClass(a.mobile.activeBtnClass))});c.closest(".ui-page").bind("pagebeforeshow",function(){d.filter(".ui-state-persist").addClass(a.mobile.activeBtnClass)})}});
a(p).bind("pagecreate create",function(c){a.mobile.navbar.prototype.enhanceWithin(c.target)})})(n);(function(a,h){var c={};a.widget("mobile.listview",a.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var a="",a=a+(this.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"");this.element.addClass(function(b,c){return c+" ui-listview "+a});this.refresh(!0)},
_removeCorners:function(a,b){a=a.add(a.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb"));"top"===b?a.removeClass("ui-corner-top ui-corner-tr ui-corner-tl"):"bottom"===b?a.removeClass("ui-corner-bottom ui-corner-br ui-corner-bl"):a.removeClass("ui-corner-top ui-corner-tr ui-corner-tl ui-corner-bottom ui-corner-br ui-corner-bl")},_refreshCorners:function(a){var b,c;b=this.element.children("li");c=a||0===b.filter(":visible").length?b.not(".ui-screen-hidden"):b.filter(":visible");b.filter(".ui-li-last").removeClass("ui-li-last");
this.options.inset?(this._removeCorners(b),b=c.first().addClass("ui-corner-top"),b.add(b.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl"),c=c.last().addClass("ui-corner-bottom ui-li-last"),c.add(c.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")):
c.last().addClass("ui-li-last");a||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(a,b,c,l){var g={};for(g[c]=g[l]=!0;a;){if(g[a.nodeName])return a;a=a[b]}return null},_getChildrenByTagName:function(c,b,e){var l=[],g={};g[b]=g[e]=!0;for(c=c.firstChild;c;)g[c.nodeName]&&l.push(c),c=c.nextSibling;return a(l)},_addThumbClasses:function(c){var b,e,l=c.length;for(b=0;b<l;b++)e=a(this._findFirstElementByTagName(c[b].firstChild,"nextSibling","img","IMG")),e.length&&(e.addClass("ui-li-thumb"),
a(this._findFirstElementByTagName(e[0].parentNode,"parentNode","li","LI")).addClass(e.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(c){this.parentPage=this.element.closest(".ui-page");this._createSubPages();var b=this.options,e=this.element,l=e.jqmData("dividertheme")||b.dividerTheme,g=e.jqmData("splittheme"),f=e.jqmData("spliticon"),k=this._getChildrenByTagName(e[0],"li","LI"),h=!!a.nodeName(e[0],"ol"),m=!a.support.cssPseudoElement,n=e.attr("start"),r={},u,v,s,w,y,x,t,
A;h&&m&&e.find(".ui-li-dec").remove();h&&(n||0===n?m?x=parseFloat(n):(u=parseFloat(n)-1,e.css("counter-reset","listnumbering "+u)):m&&(x=1));b.theme||(b.theme=a.mobile.getInheritedTheme(this.element,"c"));for(var C=0,D=k.length;C<D;C++){u=k.eq(C);v="ui-li";if(c||!u.hasClass("ui-li"))s=u.jqmData("theme")||b.theme,w=this._getChildrenByTagName(u[0],"a","A"),t="list-divider"===u.jqmData("role"),w.length&&!t?(t=u.jqmData("icon"),u.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:1<
w.length||!1===t?!1:t||"arrow-r",theme:s}),!1!==t&&1===w.length&&u.addClass("ui-li-has-arrow"),w.first().removeClass("ui-link").addClass("ui-link-inherit"),1<w.length&&(v+=" ui-li-has-alt",w=w.last(),y=g||w.jqmData("theme")||b.splitTheme,A=w.jqmData("icon"),w.appendTo(u).attr("title",w.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,corners:!1,theme:s,icon:!1,iconpos:"notext"}).find(".ui-btn-inner").append(a(p.createElement("span")).buttonMarkup({shadow:!0,corners:!0,
theme:y,iconpos:"notext",icon:A||t||f||b.splitIcon})))):t?(v+=" ui-li-divider ui-bar-"+l,u.attr("role","heading"),h&&(n||0===n?m?x=parseFloat(n):(s=parseFloat(n)-1,u.css("counter-reset","listnumbering "+s)):m&&(x=1))):v+=" ui-li-static ui-btn-up-"+s;h&&(m&&0>v.indexOf("ui-li-divider"))&&(s=0<v.indexOf("ui-li-static")?u:u.find(".ui-link-inherit"),s.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+x++ +". </span>"));r[v]||(r[v]=[]);r[v].push(u[0])}for(v in r)a(r[v]).addClass(v).children(".ui-btn-inner").addClass(v);
e.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var b=a(this);b.prependTo(b.parent())}).end().find(".ui-li-count").each(function(){a(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(e.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all");this._addThumbClasses(k);this._addThumbClasses(e.find(".ui-link-inherit"));this._refreshCorners(c);this._trigger("afterrefresh")},
_idStringEscape:function(a){return a.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var d=this.element,b=d.closest(".ui-page"),e=b.jqmData("url"),l=e||b[0][a.expando],g=d.attr("id"),f=this.options,k="data-"+a.mobile.ns,h=this,m=b.find(":jqmData(role='footer')").jqmData("id"),p;"undefined"===typeof c[l]&&(c[l]=-1);g=g||++c[l];a(d.find("li>ul, li>ol").toArray().reverse()).each(function(b){var c=a(this),l=c.attr("id")||g+"-"+b;b=c.parent();var h=a(c.prevAll().toArray().reverse()),h=h.length?
h:a("<span>"+a.trim(b.contents()[0].nodeValue)+"</span>"),q=h.first().getEncodedText(),l=(e||"")+"&"+a.mobile.subPageUrlKey+"="+l,n=c.jqmData("theme")||f.theme,x=c.jqmData("counttheme")||d.jqmData("counttheme")||f.countTheme;p=!0;c.detach().wrap("<div "+k+"role='page' "+k+"url='"+l+"' "+k+"theme='"+n+"' "+k+"count-theme='"+x+"'><div "+k+"role='content'></div></div>").parent().before("<div "+k+"role='header' "+k+"theme='"+f.headerTheme+"'><div class='ui-title'>"+q+"</div></div>").after(m?a("<div "+
k+"role='footer' "+k+"id='"+m+"'>"):"").parent().appendTo(a.mobile.pageContainer).page();c=b.find("a:first");c.length||(c=a("<a/>").html(h||q).prependTo(b.empty()));c.attr("href","#"+l)}).listview();p&&(b.is(":jqmData(external-page='true')")&&!1===b.data("page").options.domCache)&&b.unbind("pagehide.remove").bind("pagehide.remove",function(c,d){var f=d.nextPage,g=new a.Event("pageremove");d.nextPage&&(f=f.jqmData("url"),0!==f.indexOf(e+"&"+a.mobile.subPageUrlKey)&&(h.childPages().remove(),b.trigger(g),
g.isDefaultPrevented()||b.removeWithDependents()))})},childPages:function(){var c=this.parentPage.jqmData("url");return a(":jqmData(url^='"+c+"&"+a.mobile.subPageUrlKey+"')")}});a(p).bind("pagecreate create",function(c){a.mobile.listview.prototype.enhanceWithin(c.target)})})(n);(function(a,h){a.mobile.listview.prototype.options.autodividers=!1;a.mobile.listview.prototype.options.autodividersSelector=function(a){a=a.text()||null;return a?a=a.slice(0,1).toUpperCase():null};a(p).delegate("ul,ol","listviewcreate",
function(){var c=a(this),d=c.data("listview");if(d&&d.options.autodividers){var b=function(){c.unbind("listviewafterrefresh",b);c.find("li:jqmData(role='list-divider')").remove();for(var e=c.find("li"),l=null,g,f,k=0;k<e.length;k++)g=e[k],(f=d.options.autodividersSelector(a(g)))&&l!==f&&(l=p.createElement("li"),l.appendChild(p.createTextNode(f)),l.setAttribute("data-"+a.mobile.ns+"role","list-divider"),g.parentNode.insertBefore(l,g)),l=f;d.refresh();c.bind("listviewafterrefresh",b)};b()}})})(n);(function(a,
h){a.widget("mobile.checkboxradio",a.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var c=this,d=this.element,b=a(d).closest("label"),e=b.length?b:a(d).closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+d[0].id+"']").first(),l=d[0].type,b=d.jqmData("mini")||d.closest("form, fieldset").jqmData("mini"),g=l+"-on",f=l+"-off",k=d.parents(":jqmData(type='horizontal')").length?h:f,q=d.jqmData("iconpos")||
d.closest("form, fieldset").jqmData("iconpos"),m="ui-"+g+(k?"":" "+a.mobile.activeBtnClass);if("checkbox"===l||"radio"===l)a.extend(this,{label:e,inputtype:l,checkedClass:m,uncheckedClass:"ui-"+f,checkedicon:"ui-icon-"+g,uncheckedicon:"ui-icon-"+f}),this.options.theme||(this.options.theme=a.mobile.getInheritedTheme(this.element,"c")),e.buttonMarkup({theme:this.options.theme,icon:k,shadow:!1,mini:b,iconpos:q}),b=p.createElement("div"),b.className="ui-"+l,d.add(e).wrapAll(b),e.bind({vmouseover:function(b){a(this).parent().is(".ui-disabled")&&
b.stopPropagation()},vclick:function(a){if(d.is(":disabled"))a.preventDefault();else return c._cacheVals(),d.prop("checked","radio"===l&&!0||!d.prop("checked")),d.triggerHandler("click"),c._getInputSet().not(d).prop("checked",!1),c._updateAll(),!1}}),d.bind({vmousedown:function(){c._cacheVals()},vclick:function(){var b=a(this);b.is(":checked")?(b.prop("checked",!0),c._getInputSet().not(b).prop("checked",!1)):b.prop("checked",!1);c._updateAll()},focus:function(){e.addClass(a.mobile.focusClass)},blur:function(){e.removeClass(a.mobile.focusClass)}}),
this.refresh()},_cacheVals:function(){this._getInputSet().each(function(){a(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){return"checkbox"===this.inputtype?this.element:this.element.closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var c=this;this._getInputSet().each(function(){var d=a(this);(this.checked||"checkbox"===c.inputtype)&&d.trigger("change")}).checkboxradio("refresh")},
refresh:function(){var a=this.element[0],d=this.label,b=d.find(".ui-icon");a.checked?(d.addClass(this.checkedClass).removeClass(this.uncheckedClass),b.addClass(this.checkedicon).removeClass(this.uncheckedicon)):(d.removeClass(this.checkedClass).addClass(this.uncheckedClass),b.removeClass(this.checkedicon).addClass(this.uncheckedicon));a.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",
!1).parent().removeClass("ui-disabled")}});a(p).bind("pagecreate create",function(c){a.mobile.checkboxradio.prototype.enhanceWithin(c.target,!0)})})(n);(function(a,h){a.widget("mobile.button",a.mobile.widget,{options:{theme:null,icon:null,iconpos:null,corners:!0,shadow:!0,iconshadow:!0,initSelector:"button, [type='button'], [type='submit'], [type='reset']"},_create:function(){var c=this.element,d,b=this.options,e;e=b.inline||c.jqmData("inline");var l=b.mini||c.jqmData("mini"),g="",f;if("A"===c[0].tagName)c.hasClass("ui-btn")||
c.buttonMarkup();else{this.options.theme||(this.options.theme=a.mobile.getInheritedTheme(this.element,"c"));~c[0].className.indexOf("ui-btn-left")&&(g="ui-btn-left");~c[0].className.indexOf("ui-btn-right")&&(g="ui-btn-right");if("submit"===c.attr("type")||"reset"===c.attr("type"))g?g+=" ui-submit":g="ui-submit";a("label[for='"+c.attr("id")+"']").addClass("ui-submit");d=this.button=a("<div></div>")[c.html()?"html":"text"](c.html()||c.val()).insertBefore(c).buttonMarkup({theme:b.theme,icon:b.icon,iconpos:b.iconpos,
inline:e,corners:b.corners,shadow:b.shadow,iconshadow:b.iconshadow,mini:l}).addClass(g).append(c.addClass("ui-btn-hidden"));b=c.attr("type");e=c.attr("name");"button"!==b&&("reset"!==b&&e)&&c.bind("vclick",function(){f===h&&(f=a("<input>",{type:"hidden",name:c.attr("name"),value:c.attr("value")}).insertBefore(c),a(p).one("submit",function(){f.remove();f=h}))});c.bind({focus:function(){d.addClass(a.mobile.focusClass)},blur:function(){d.removeClass(a.mobile.focusClass)}});this.refresh()}},enable:function(){this.element.attr("disabled",
!1);this.button.removeClass("ui-disabled").attr("aria-disabled",!1);return this._setOption("disabled",!1)},disable:function(){this.element.attr("disabled",!0);this.button.addClass("ui-disabled").attr("aria-disabled",!0);return this._setOption("disabled",!0)},refresh:function(){var c=this.element;c.prop("disabled")?this.disable():this.enable();a(this.button.data("buttonElements").text)[c.html()?"html":"text"](c.html()||c.val())}});a(p).bind("pagecreate create",function(c){a.mobile.button.prototype.enhanceWithin(c.target,
!0)})})(n);(function(a,h){a.fn.controlgroup=function(c){function d(a,c){a.removeClass("ui-btn-corner-all ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-controlgroup-last ui-shadow").eq(0).addClass(c[0]).end().last().addClass(c[1]).addClass("ui-controlgroup-last")}return this.each(function(){var b=a(this),e=a.extend({direction:b.jqmData("type")||"vertical",shadow:!1,excludeInvisible:!0,mini:b.jqmData("mini")},c),l=b.children("legend"),g=b.children(".ui-controlgroup-label"),f=b.children(".ui-controlgroup-controls"),
k="horizontal"===e.direction?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"];b.find("input").first().attr("type");f.length&&f.contents().unwrap();b.wrapInner("<div class='ui-controlgroup-controls'></div>");l.length?(a("<div role='heading' class='ui-controlgroup-label'>"+l.html()+"</div>").insertBefore(b.children(0)),l.remove()):g.length&&b.prepend(g);b.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+e.direction);d(b.find(".ui-btn"+(e.excludeInvisible?":visible":
"")).not(".ui-slider-handle"),k);d(b.find(".ui-btn-inner"),k);e.shadow&&b.addClass("ui-shadow");e.mini&&b.addClass("ui-mini")})}})(n);(function(a,h){a(p).bind("pagecreate create",function(c){a(c.target).find("a").jqmEnhanceable().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})})(n);(function(a,h){function c(a,c,d,g){var f=g;return f=a<c?d+(a-c)/2:Math.min(Math.max(d,g-c/2),d+a-c)}function d(){var b=a(t);return{x:b.scrollLeft(),y:b.scrollTop(),cx:t.innerWidth||
b.width(),cy:t.innerHeight||b.height()}}a.widget("mobile.popup",a.mobile.widget,{options:{theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,initSelector:":jqmData(role='popup')",closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",history:!a.mobile.browser.ie},_eatEventAndClose:function(a){a.preventDefault();a.stopImmediatePropagation();this.close();
return!1},_resizeScreen:function(){var a=this._ui.container.outerHeight(!0);this._ui.screen.removeAttr("style");a>this._ui.screen.height()&&this._ui.screen.height(a)},_handleWindowKeyUp:function(b){if(this._isOpen&&b.keyCode===a.mobile.keyCode.ESCAPE)return this._eatEventAndClose(b)},_maybeRefreshTimeout:function(){var b=d();if(this._resizeData){if(b.x===this._resizeData.winCoords.x&&b.y===this._resizeData.winCoords.y&&b.cx===this._resizeData.winCoords.cx&&b.cy===this._resizeData.winCoords.cy)return!1;
clearTimeout(this._resizeData.timeoutId)}this._resizeData={timeoutId:setTimeout(a.proxy(this,"_resizeTimeout"),200),winCoords:b};return!0},_resizeTimeout:function(){this._maybeRefreshTimeout()||(this._trigger("beforeposition"),this._ui.container.removeClass("ui-selectmenu-hidden").offset(this._placementCoords(this._desiredCoords(h,h,"window"))),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1)},_handleWindowResize:function(a){this._isOpen&&this._maybeRefreshTimeout()},
_handleWindowOrientationchange:function(a){this._orientationchangeInProgress||(this._ui.container.addClass("ui-selectmenu-hidden").removeAttr("style"),this._orientationchangeInProgress=!0)},_create:function(){var b={screen:a("<div class='ui-screen-hidden ui-popup-screen'></div>"),placeholder:a("<div style='display: none;'>\x3c!-- placeholder --\x3e</div>"),container:a("<div class='ui-popup-container ui-selectmenu-hidden'></div>")},c=this.element.closest(".ui-page"),d=this.element.attr("id"),g=this;
this.options.history=this.options.history&&a.mobile.ajaxEnabled&&a.mobile.hashListeningEnabled;0===c.length&&(c=a("body"));this.options.container=this.options.container||a.mobile.pageContainer;c.append(b.screen);b.container.insertAfter(b.screen);b.placeholder.insertAfter(this.element);d&&(b.screen.attr("id",d+"-screen"),b.container.attr("id",d+"-popup"),b.placeholder.html("\x3c!-- placeholder for "+d+" --\x3e"));b.container.append(this.element);this.element.addClass("ui-popup");a.extend(this,{_page:c,
_ui:b,_fallbackTransition:"",_currentTransition:!1,_prereqs:null,_isOpen:!1,_tolerance:null,_resizeData:null,_orientationchangeInProgress:!1,_globalHandlers:[{src:a(t),handler:{orientationchange:a.proxy(this,"_handleWindowOrientationchange"),resize:a.proxy(this,"_handleWindowResize"),keyup:a.proxy(this,"_handleWindowKeyUp")}}]});a.each(this.options,function(a,b){g.options[a]=h;g._setOption(a,b,!0)});b.screen.bind("vclick",a.proxy(this,"_eatEventAndClose"));a.each(this._globalHandlers,function(a,b){b.src.bind(b.handler)})},
_applyTheme:function(a,c,d){for(var g=(a.attr("class")||"").split(" "),f=null,k=String(c);0<g.length;)if(f=g.pop(),(f=RegExp("^ui-"+d+"-([a-z])$").exec(f))&&1<f.length){f=f[1];break}else f=null;c!==f&&(a.removeClass("ui-"+d+"-"+f),null!==c&&"none"!==c&&a.addClass("ui-"+d+"-"+k))},_setTheme:function(a){this._applyTheme(this.element,a,"body")},_setOverlayTheme:function(a){this._applyTheme(this._ui.screen,a,"overlay");this._isOpen&&this._ui.screen.addClass("in")},_setShadow:function(a){this.element.toggleClass("ui-overlay-shadow",
a)},_setCorners:function(a){this.element.toggleClass("ui-corner-all",a)},_applyTransition:function(b){this._ui.container.removeClass(this._fallbackTransition);b&&"none"!==b&&(this._fallbackTransition=a.mobile._maybeDegradeTransition(b),this._ui.container.addClass(this._fallbackTransition))},_setTransition:function(a){this._currentTransition||this._applyTransition(a)},_setTolerance:function(b){var c={t:30,r:15,b:30,l:15};if(b){var d=String(b).split(",");a.each(d,function(a,b){d[a]=parseInt(b,10)});
switch(d.length){case 1:isNaN(d[0])||(c.t=c.r=c.b=c.l=d[0]);break;case 2:isNaN(d[0])||(c.t=c.b=d[0]);isNaN(d[1])||(c.l=c.r=d[1]);break;case 4:isNaN(d[0])||(c.t=d[0]),isNaN(d[1])||(c.r=d[1]),isNaN(d[2])||(c.b=d[2]),isNaN(d[3])||(c.l=d[3])}}this._tolerance=c},_setOption:function(b,c){var d="_set"+b.charAt(0).toUpperCase()+b.slice(1);if(this[d]!==h)this[d](c);a.mobile.widget.prototype._setOption.apply(this,arguments);-1===a.inArray(b,"initSelector closeLinkSelector closeLinkEvents navigateEvents closeEvents history container".split(" "))&&
this.element.attr("data-"+(a.mobile.ns||"")+b.replace(/([A-Z])/,"-$1").toLowerCase(),c)},_placementCoords:function(a){var e,l,g;g=d();e=this._tolerance.l;var f=g.y+this._tolerance.t,k=g.cx-this._tolerance.l-this._tolerance.r,h=g.cy-this._tolerance.t-this._tolerance.b;this._ui.container.css("max-width",k);l=this._ui.container.outerWidth(!0);g=this._ui.container.outerHeight(!0);e=c(k,l,e,a.x);a=c(h,g,f,a.y);a=Math.max(0,a);f=p.documentElement;k=p.body;f=Math.max(f.clientHeight,k.scrollHeight,k.offsetHeight,
f.scrollHeight,f.offsetHeight);a-=Math.min(a,Math.max(0,a+g-f));return{left:e,top:a}},_createPrereqs:function(b,c,d){var g=this,f;f={screen:a.Deferred(),container:a.Deferred()};f.screen.then(function(){f===g._prereqs&&b()});f.container.then(function(){f===g._prereqs&&c()});a.when(f.screen,f.container).done(function(){f===g._prereqs&&(g._prereqs=null,d())});g._prereqs=f},_animate:function(b){this._ui.screen.removeClass(b.classToRemove).addClass(b.screenClassToAdd);b.prereqs.screen.resolve();b.transition&&
"none"!==b.transition?(b.applyTransition&&this._applyTransition(b.transition),this._ui.container.animationComplete(a.proxy(b.prereqs.container,"resolve")).addClass(b.containerClassToAdd).removeClass(b.classToRemove)):b.prereqs.container.resolve()},_desiredCoords:function(b,c,l){var g=null,f=d();if(l&&"origin"!==l)if("window"===l)b=f.cx/2+f.x,c=f.cy/2+f.y;else{try{g=a(l)}catch(k){g=null}g&&(g.filter(":visible"),0===g.length&&(g=null))}g&&(c=g.offset(),b=c.left+g.outerWidth()/2,c=c.top+g.outerHeight()/
2);if("number"!==a.type(b)||isNaN(b))b=f.cx/2+f.x;if("number"!==a.type(c)||isNaN(c))c=f.cy/2+f.y;return{x:b,y:c}},_openPrereqsComplete:function(){var a=this;a._ui.container.addClass("ui-popup-active");a._isOpen=!0;a._resizeScreen();setTimeout(function(){a._ui.container.attr("tabindex","0").focus();a._trigger("afteropen")})},_open:function(b){var c,d;c=navigator.userAgent;d=c.match(/AppleWebKit\/([0-9\.]+)/);d=!!d&&d[1];var g=c.match(/Android (\d+(?:\.\d+))/),f=!!g&&g[1];c=-1<c.indexOf("Chrome");d=
null!==g&&"4.0"===f&&d&&534.13<d&&!c?!0:!1;b=b||{};c=b.transition||this.options.transition;this._trigger("beforeposition");b=this._placementCoords(this._desiredCoords(b.x,b.y,b.positionTo||this.options.positionTo||"origin"));this._createPrereqs(a.noop,a.noop,a.proxy(this,"_openPrereqsComplete"));c?(this._currentTransition=c,this._applyTransition(c)):c=this.options.transition;this.options.theme||this._setTheme(this._page.jqmData("theme")||a.mobile.getInheritedTheme(this._page,"c"));this._ui.screen.removeClass("ui-screen-hidden");
this._ui.container.removeClass("ui-selectmenu-hidden").offset(b);this.options.overlayTheme&&d&&this.element.closest(".ui-page").addClass("ui-popup-open");this._animate({additionalCondition:!0,transition:c,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prereqs:this._prereqs})},_closePrereqScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrereqContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-selectmenu-hidden").removeAttr("style")},
_closePrereqsDone:function(){var b=this.options;this._ui.container.removeAttr("tabindex");b.container.unbind(b.closeEvents);this.element.undelegate(b.closeLinkSelector,b.closeLinkEvents);a.mobile.popup.active=h;this._trigger("afterclose")},_close:function(){this._ui.container.removeClass("ui-popup-active");this._page.removeClass("ui-popup-open");this._isOpen=!1;this._createPrereqs(a.proxy(this,"_closePrereqScreen"),a.proxy(this,"_closePrereqContainer"),a.proxy(this,"_closePrereqsDone"));this._animate({additionalCondition:this._ui.screen.hasClass("in"),
transition:this._currentTransition||this.options.transition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prereqs:this._prereqs})},_destroy:function(){this._close();this._setTheme("none");this.element.insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all");this._ui.screen.remove();this._ui.container.remove();this._ui.placeholder.remove();a.each(this._globalHandlers,function(b,c){a.each(c.handler,function(a,b){c.src.unbind(a,
b)})})},_bindContainerClose:function(){this.options.container.one(this.options.closeEvents,a.proxy(this._close,this))},open:function(b){var c=this,d=this.options,g,f,k,q,m;a.mobile.popup.active||(a.mobile.popup.active=this,d.history?(f=a.mobile.dialogHashKey,g=a.mobile.activePage,k=g.is(".ui-dialog"),g=a.mobile.urlHistory.getActive().url,q=-1<g.indexOf(f)&&!k,m=a.mobile.urlHistory,q?(c._open(b),c._bindContainerClose()):(g=-1!==g.indexOf(f)||k?a.mobile.path.parseLocation().hash+f:g+f,0===m.activeIndex&&
g===m.initialDst&&(g+=f),d.container.one(d.navigateEvents,function(a){a.preventDefault();c._open(b);c._bindContainerClose()}),m.ignoreNextHashChange=k,m.addNew(g,h,h,h,"dialog"),a.mobile.path.set(g))):(c._open(b),c._bindContainerClose(),c.element.delegate(d.closeLinkSelector,d.closeLinkEvents,function(a){c._close();return!1})))},close:function(){a.mobile.popup.active&&(this.options.history?a.mobile.back():this._close())}});a.mobile.popup.handleLink=function(b){var c=b.closest(":jqmData(role='page')"),
c=0===c.length?a("body"):c,c=a(a.mobile.path.parseUrl(b.attr("href")).hash,c[0]),d;c.data("popup")&&(d=b.offset(),c.popup("open",{x:d.left+b.outerWidth()/2,y:d.top+b.outerHeight()/2,transition:b.jqmData("transition"),positionTo:b.jqmData("position-to"),link:b}));setTimeout(function(){b.removeClass(a.mobile.activeBtnClass)},300)};a(p).bind("pagebeforechange",function(b,c){"popup"===c.options.role&&(a.mobile.popup.handleLink(c.options.link),b.preventDefault())});a(p).bind("pagecreate create",function(b){a.mobile.popup.prototype.enhanceWithin(b.target,
!0)})})(n);(function(a){var h=a("meta[name=viewport]"),c=h.attr("content"),d=c+",maximum-scale=1, user-scalable=no",b=c+",maximum-scale=10, user-scalable=yes",e=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(c);a.mobile.zoom=a.extend({},{enabled:!e,locked:!1,disable:function(b){e||a.mobile.zoom.locked||(h.attr("content",d),a.mobile.zoom.enabled=!1,a.mobile.zoom.locked=b||!1)},enable:function(c){e||a.mobile.zoom.locked&&!0!==c||(h.attr("content",b),a.mobile.zoom.enabled=!0,a.mobile.zoom.locked=
!1)},restore:function(){e||(h.attr("content",c),a.mobile.zoom.enabled=!0)}})})(n);(function(a,h){a.widget("mobile.textinput",a.mobile.widget,{options:{theme:null,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&-1<navigator.userAgent.indexOf("AppleWebKit"),initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])",
clearSearchButtonText:"clear text",disabled:!1},_create:function(){function c(){setTimeout(function(){m.toggleClass("ui-input-clear-hidden",!b.val())},0)}var d=this,b=this.element,e=this.options,l=e.theme||a.mobile.getInheritedTheme(this.element,"c"),g=" ui-body-"+l,f=!0===b.jqmData("mini"),k=f?" ui-mini":"",h,m;a("label[for='"+b.attr("id")+"']").addClass("ui-input-text");h=b.addClass("ui-input-text ui-body-"+l);"undefined"===typeof b[0].autocorrect||a.support.touchOverflow||(b[0].setAttribute("autocorrect",
"off"),b[0].setAttribute("autocomplete","off"));b.is("[type='search'],:jqmData(type='search')")?(h=b.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+g+k+"'></div>").parent(),m=a("<a href='#' class='ui-input-clear' title='"+e.clearSearchButtonText+"'>"+e.clearSearchButtonText+"</a>").bind("click",function(a){b.val("").focus().trigger("change");m.addClass("ui-input-clear-hidden");a.preventDefault()}).appendTo(h).buttonMarkup({icon:"delete",iconpos:"notext",
corners:!0,shadow:!0,mini:f}),c(),b.bind("paste cut keyup focus change blur",c)):b.addClass("ui-corner-all ui-shadow-inset"+g+k);b.focus(function(){h.addClass(a.mobile.focusClass)}).blur(function(){h.removeClass(a.mobile.focusClass)}).bind("focus",function(){e.preventFocusZoom&&a.mobile.zoom.disable(!0)}).bind("blur",function(){e.preventFocusZoom&&a.mobile.zoom.enable(!0)});if(b.is("textarea")){var n;this._keyup=function(){var a=b[0].scrollHeight;b[0].clientHeight<a&&b.height(a+15)};b.keyup(function(){clearTimeout(n);
n=setTimeout(d._keyup,100)});this._on(a(p),{pagechange:"_keyup"});a.trim(b.val())&&this._on(a(t),{load:"_keyup"})}b.attr("disabled")&&this.disable()},disable:function(){(this.element.attr("disabled",!0).is("[type='search'], :jqmData(type='search')")?this.element.parent():this.element).addClass("ui-disabled");return this._setOption("disabled",!0)},enable:function(){(this.element.attr("disabled",!1).is("[type='search'], :jqmData(type='search')")?this.element.parent():this.element).removeClass("ui-disabled");
return this._setOption("disabled",!1)}});a(p).bind("pagecreate create",function(c){a.mobile.textinput.prototype.enhanceWithin(c.target,!0)})})(n);(function(a,h){a.mobile.listview.prototype.options.filter=!1;a.mobile.listview.prototype.options.filterPlaceholder="Filter items...";a.mobile.listview.prototype.options.filterTheme="c";var c=function(a,b,c){return-1===a.toString().toLowerCase().indexOf(b)};a.mobile.listview.prototype.options.filterCallback=c;a(p).delegate(":jqmData(role='listview')","listviewcreate",
function(){var d=a(this),b=d.data("listview");if(b.options.filter){var e=a("<form>",{"class":"ui-listview-filter ui-bar-"+b.options.filterTheme,role:"search"});a("<input>",{placeholder:b.options.filterPlaceholder}).attr("data-"+a.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var e=a(this),g=this.value.toLowerCase(),f=null,f=e.jqmData("lastval")+"",k=!1,h="",h=b.options.filterCallback!==c;b._trigger("beforefilter","beforefilter",{input:this});e.jqmData("lastval",g);
f=h||g.length<f.length||0!==g.indexOf(f)?d.children():d.children(":not(.ui-screen-hidden)");if(g){for(var m=f.length-1;0<=m;m--)e=a(f[m]),h=e.jqmData("filtertext")||e.text(),e.is("li:jqmData(role=list-divider)")?(e.toggleClass("ui-filter-hidequeue",!k),k=!1):b.options.filterCallback(h,g,e)?e.toggleClass("ui-filter-hidequeue",!0):k=!0;f.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1);f.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",
!1)}else f.toggleClass("ui-screen-hidden",!1);b._refreshCorners()}).appendTo(e).textinput();b.options.inset&&e.addClass("ui-listview-filter-inset");e.bind("submit",function(){return!1}).insertBefore(d)}})})(n);(function(a,h){a.widget("mobile.slider",a.mobile.widget,{widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,disabled:!1,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:!1},_create:function(){var c=this,d=this.element,b=a.mobile.getInheritedTheme(d,
"c"),e=this.options.theme||b,b=this.options.trackTheme||b,l=d[0].nodeName.toLowerCase(),g="select"===l?"ui-slider-switch":"",f=d.attr("id"),k=a("[for='"+f+"']"),q=k.attr("id")||f+"-label",k=k.attr("id",q),m=function(){return"input"===l?parseFloat(d.val()):d[0].selectedIndex},n="input"===l?parseFloat(d.attr("min")):0,r="input"===l?parseFloat(d.attr("max")):d.find("option").length-1,u=t.parseFloat(d.attr("step")||1),v=this.options.inline||!0===d.jqmData("inline")?" ui-slider-inline":"",s=this.options.mini||
d.jqmData("mini")?" ui-slider-mini":"",w=p.createElement("a"),y=a(w),f=p.createElement("div"),x=a(f),G=d.jqmData("highlight")&&"select"!==l?function(){var b=p.createElement("div");b.className="ui-slider-bg "+a.mobile.activeBtnClass+" ui-btn-corner-all";return a(b).prependTo(x)}():!1;this._type=l;w.setAttribute("href","#");f.setAttribute("role","application");f.className=["ui-slider ",g," ui-btn-down-",b," ui-btn-corner-all",v,s].join("");w.className="ui-slider-handle";f.appendChild(w);y.buttonMarkup({corners:!0,
theme:e,shadow:!0}).attr({role:"slider","aria-valuemin":n,"aria-valuemax":r,"aria-valuenow":m(),"aria-valuetext":m(),title:m(),"aria-labelledby":q});a.extend(this,{slider:x,handle:y,valuebg:G,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1});if("select"===l){e=p.createElement("div");e.className="ui-slider-inneroffset";g=0;for(q=f.childNodes.length;g<q;g++)e.appendChild(f.childNodes[g]);f.appendChild(e);y.addClass("ui-slider-handle-snapping");e=d.find("option");f=0;for(g=e.length;f<g;f++)q=
f?"a":"b",v=f?" "+a.mobile.activeBtnClass:" ui-btn-down-"+b,p.createElement("div"),s=p.createElement("span"),s.className=["ui-slider-label ui-slider-label-",q,v," ui-btn-corner-all"].join(""),s.setAttribute("role","img"),s.appendChild(p.createTextNode(e[f].innerHTML)),a(s).prependTo(x);c._labels=a(".ui-slider-label",x)}k.addClass("ui-slider");d.addClass("input"===l?"ui-slider-input":"ui-slider-switch").change(function(){c.mouseMoved||c.refresh(m(),!0)}).keyup(function(){c.refresh(m(),!0,!0)}).blur(function(){c.refresh(m(),
!0)});this._preventDocumentDrag=function(a){if(c.dragging&&!c.options.disabled)return c.mouseMoved=!0,"select"===l&&y.removeClass("ui-slider-handle-snapping"),c.refresh(a),c.userModified=c.beforeStart!==d[0].selectedIndex,!1};this._on(a(p),{vmousemove:this._preventDocumentDrag});d.bind("vmouseup",a.proxy(c._checkedRefresh,c));x.bind("vmousedown",function(a){if(c.options.disabled)return!1;c.dragging=!0;c.userModified=!1;c.mouseMoved=!1;"select"===l&&(c.beforeStart=d[0].selectedIndex);c.refresh(a);
c._trigger("start");return!1}).bind("vclick",!1);this._sliderMouseUp=function(){if(c.dragging)return c.dragging=!1,"select"===l&&(y.addClass("ui-slider-handle-snapping"),c.mouseMoved?c.userModified?c.refresh(0===c.beforeStart?1:0):c.refresh(c.beforeStart):c.refresh(0===c.beforeStart?1:0)),c.mouseMoved=!1,c._trigger("stop"),!1};this._on(x.add(p),{vmouseup:this._sliderMouseUp});x.insertAfter(d);"select"===l&&this.handle.bind({focus:function(){x.addClass(a.mobile.focusClass)},blur:function(){x.removeClass(a.mobile.focusClass)}});
this.handle.bind({vmousedown:function(){a(this).focus()},vclick:!1,keydown:function(b){var d=m();if(!c.options.disabled){switch(b.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:b.preventDefault(),c._keySliding||(c._keySliding=!0,a(this).addClass("ui-state-active"))}switch(b.keyCode){case a.mobile.keyCode.HOME:c.refresh(n);
break;case a.mobile.keyCode.END:c.refresh(r);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:c.refresh(d+u);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:c.refresh(d-u)}}},keyup:function(b){c._keySliding&&(c._keySliding=!1,a(this).removeClass("ui-state-active"))}});this.refresh(h,h,!0)},_checkedRefresh:function(){this.value!=this._value()&&this.refresh(this._value())},_value:function(){return"input"===this._type?
parseFloat(this.element.val()):this.element[0].selectedIndex},refresh:function(c,d,b){(this.options.disabled||this.element.attr("disabled"))&&this.disable();this.value=this._value();var e=this.element,l=e[0].nodeName.toLowerCase(),g="input"===l?parseFloat(e.attr("min")):0,f="input"===l?parseFloat(e.attr("max")):e.find("option").length-1,k="input"===l&&0<parseFloat(e.attr("step"))?parseFloat(e.attr("step")):1;if("object"===typeof c){if(!this.dragging||c.pageX<this.slider.offset().left-8||c.pageX>this.slider.offset().left+
this.slider.width()+8)return;c=Math.round(100*((c.pageX-this.slider.offset().left)/this.slider.width()))}else null==c&&(c="input"===l?parseFloat(e.val()||0):e[0].selectedIndex),c=100*((parseFloat(c)-g)/(f-g));if(!isNaN(c)){0>c&&(c=0);100<c&&(c=100);var h=c/100*(f-g)+g,m=(h-g)%k,h=h-m;2*Math.abs(m)>=k&&(h+=0<m?k:-k);h=parseFloat(h.toFixed(5));h<g&&(h=g);h>f&&(h=f);this.handle.css("left",c+"%");this.handle.attr({"aria-valuenow":"input"===l?h:e.find("option").eq(h).attr("value"),"aria-valuetext":"input"===
l?h:e.find("option").eq(h).getEncodedText(),title:"input"===l?h:e.find("option").eq(h).getEncodedText()});this.valuebg&&this.valuebg.css("width",c+"%");if(this._labels){var g=100*(this.handle.width()/this.slider.width()),n=c&&g+(100-g)*c/100,p=100===c?0:Math.min(g+100-n,100);this._labels.each(function(){var b=a(this).is(".ui-slider-label-a");a(this).width((b?n:p)+"%")})}b||(b=!1,"input"===l?(b=e.val()!==h,e.val(h)):(b=e[0].selectedIndex!==h,e[0].selectedIndex=h),!d&&b&&e.trigger("change"))}},enable:function(){this.element.attr("disabled",
!1);this.slider.removeClass("ui-disabled").attr("aria-disabled",!1);return this._setOption("disabled",!1)},disable:function(){this.element.attr("disabled",!0);this.slider.addClass("ui-disabled").attr("aria-disabled",!0);return this._setOption("disabled",!0)}});a(p).bind("pagecreate create",function(c){a.mobile.slider.prototype.enhanceWithin(c.target,!0)})})(n);(function(a,h){a.widget("mobile.selectmenu",a.mobile.widget,{options:{theme:null,disabled:!1,icon:"arrow-d",iconpos:"right",inline:!1,corners:!0,
shadow:!0,iconshadow:!0,overlayTheme:"a",hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&-1<navigator.userAgent.indexOf("AppleWebKit"),initSelector:"select:not( :jqmData(role='slider') )",mini:!1},_button:function(){return a("<div/>")},_setDisabled:function(a){this.element.attr("disabled",a);this.button.attr("aria-disabled",a);return this._setOption("disabled",a)},_focusButton:function(){var a=this;setTimeout(function(){a.button.focus()},
40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var c="";~this.element[0].className.indexOf("ui-btn-left")&&(c=" ui-btn-left");~this.element[0].className.indexOf("ui-btn-right")&&(c=" ui-btn-right");this.select=this.element.wrap("<div class='ui-select"+c+"'>");this.selectID=this.select.attr("id");this.label=a("label[for='"+this.selectID+"']").addClass("ui-select");this.isMultiple=this.select[0].multiple;this.options.theme||(this.options.theme=a.mobile.getInheritedTheme(this.select,
"c"))},_create:function(){this._preExtension();this._trigger("beforeCreate");this.button=this._button();var c=this,d=this.options,b=d.inline||this.select.jqmData("inline"),e=d.mini||this.select.jqmData("mini"),h=d.icon?d.iconpos||this.select.jqmData("iconpos"):!1,b=this.button.insertBefore(this.select).buttonMarkup({theme:d.theme,icon:d.icon,iconpos:h,inline:b,corners:d.corners,shadow:d.shadow,iconshadow:d.iconshadow,mini:e});this.setButtonText();d.nativeMenu&&(t.opera&&t.opera.version)&&b.addClass("ui-select-nativeonly");
this.isMultiple&&(this.buttonCount=a("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(b.addClass("ui-li-has-count")));(d.disabled||this.element.attr("disabled"))&&this.disable();this.select.change(function(){c.refresh()});this.build()},build:function(){var c=this;this.select.appendTo(c.button).bind("vmousedown",function(){c.button.addClass(a.mobile.activeBtnClass)}).bind("focus",function(){c.button.addClass(a.mobile.focusClass)}).bind("blur",function(){c.button.removeClass(a.mobile.focusClass)}).bind("focus vmouseover",
function(){c.button.trigger("vmouseover")}).bind("vmousemove",function(){c.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){c.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}).bind("change blur",function(){c.button.removeClass("ui-btn-down-"+c.options.theme)});c.button.bind("vmousedown",function(){c.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}).bind("mouseup",function(){c.options.preventFocusZoom&&setTimeout(function(){a.mobile.zoom.enable(!0)},
0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var a=this;return this.selected().map(function(){return a._selectOptions().index(this)}).get()},setButtonText:function(){var c=this,d=this.selected(),b=this.placeholder,e=a(p.createElement("span"));this.button.find(".ui-btn-text").html(function(){b=d.length?d.map(function(){return a(this).text()}).get().join(", "):c.placeholder;return e.text(b).addClass(c.select.attr("class")).addClass(d.attr("class"))})},
setButtonCount:function(){var a=this.selected();this.isMultiple&&this.buttonCount[1<a.length?"show":"hide"]().text(a.length)},refresh:function(){this.setButtonText();this.setButtonCount()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(!0);this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(!1);this.button.removeClass("ui-disabled")}});a(p).bind("pagecreate create",function(c){a.mobile.selectmenu.prototype.enhanceWithin(c.target,!0)})})(n);(function(a,h){var c=
function(c){var b=c.selectID,e=c.label,h=c.select.closest(".ui-page"),g=c._selectOptions(),f=c.isMultiple=c.select[0].multiple,k=b+"-button",n=b+"-menu",m=a("<div data-"+a.mobile.ns+"role='dialog' data-"+a.mobile.ns+"theme='"+c.options.theme+"' data-"+a.mobile.ns+"overlay-theme='"+c.options.overlayTheme+"'><div data-"+a.mobile.ns+"role='header'><div class='ui-title'>"+e.getEncodedText()+"</div></div><div data-"+a.mobile.ns+"role='content'></div></div>"),z=a("<div>",{"class":"ui-selectmenu"}).insertAfter(c.select).popup({theme:"a"}),
r=a("<ul>",{"class":"ui-selectmenu-list",id:n,role:"listbox","aria-labelledby":k}).attr("data-"+a.mobile.ns+"theme",c.options.theme).appendTo(z),u=a("<div>",{"class":"ui-header ui-bar-"+c.options.theme}).prependTo(z),v=a("<h1>",{"class":"ui-title"}).appendTo(u),s;c.isMultiple&&(s=a("<a>",{text:c.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+a.mobile.ns+"iconpos","notext").attr("data-"+a.mobile.ns+"icon","delete").appendTo(u).buttonMarkup());a.extend(c,{select:c.select,selectID:b,
buttonId:k,menuId:n,thisPage:h,menuPage:m,label:e,selectOptions:g,isMultiple:f,theme:c.options.theme,listbox:z,list:r,header:u,headerTitle:v,headerClose:s,menuPageContent:void 0,menuPageClose:void 0,placeholder:"",build:function(){var b=this;b.refresh();b.select.attr("tabindex","-1").focus(function(){a(this).blur();b.button.focus()});b.button.bind("vclick keydown",function(c){if("vclick"===c.type||c.keyCode&&(c.keyCode===a.mobile.keyCode.ENTER||c.keyCode===a.mobile.keyCode.SPACE))b.open(),c.preventDefault()});
b.list.attr("role","listbox").bind("focusin",function(b){a(b.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",function(b){a(b.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(e){var f=b.select[0].selectedIndex,g=b.list.find("li:not(.ui-li-divider)").index(this),k=b._selectOptions().eq(g)[0];k.selected=b.isMultiple?!k.selected:!0;b.isMultiple&&a(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",k.selected).toggleClass("ui-icon-checkbox-off",
!k.selected);(b.isMultiple||f!==g)&&b.select.trigger("change");b.isMultiple?b.list.find("li:not(.ui-li-divider)").eq(g).addClass("ui-btn-down-"+c.options.theme).find("a").first().focus():b.close();e.preventDefault()}).keydown(function(b){var e=a(b.target),f=e.closest("li");switch(b.keyCode){case 38:return b=f.prev().not(".ui-selectmenu-placeholder"),b.is(".ui-li-divider")&&(b=b.prev()),b.length&&(e.blur().attr("tabindex","-1"),b.addClass("ui-btn-down-"+c.options.theme).find("a").first().focus()),
!1;case 40:return b=f.next(),b.is(".ui-li-divider")&&(b=b.next()),b.length&&(e.blur().attr("tabindex","-1"),b.addClass("ui-btn-down-"+c.options.theme).find("a").first().focus()),!1;case 13:case 32:return e.trigger("click"),!1}});b.menuPage.bind("pagehide",function(){b.list.appendTo(b.listbox);b._focusButton();a.mobile._bindPageRemove.call(b.thisPage)});b.listbox.bind("popupafterclose",function(a){b.close()});b.isMultiple&&b.headerClose.click(function(){if("overlay"===b.menuType)return b.close(),!1});
b.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var a=this.list.find("li");return this._selectOptions().text()!==a.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(b,c){var d=this,e;(b||this._isRebuildRequired())&&d._buildList();e=this.selectedIndices();d.setButtonText();d.setButtonCount();d.list.find("li:not(.ui-li-divider)").removeClass(a.mobile.activeBtnClass).attr("aria-selected",!1).each(function(b){-1<
a.inArray(b,e)&&(b=a(this),b.attr("aria-selected",!0),d.isMultiple?b.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):b.is(".ui-selectmenu-placeholder")?b.next().addClass(a.mobile.activeBtnClass):b.addClass(a.mobile.activeBtnClass))})},close:function(){!this.options.disabled&&this.isOpen&&("page"===this.menuType?a.mobile.back():(this.listbox.popup("close"),this.list.appendTo(this.listbox),this._focusButton()),this.isOpen=!1)},open:function(){function b(){var f=
e.list.find("."+a.mobile.activeBtnClass+" a");0===f.length&&(f=e.list.find("li.ui-btn:not( :jqmData(placeholder='true') ) a"));f.first().focus().closest("li").addClass("ui-btn-down-"+c.options.theme)}if(!this.options.disabled){var e=this,f=a(t),g=e.list.parent(),k=g.outerHeight();g.outerWidth();a("."+a.mobile.activePageClass);var g=f.scrollTop(),h=e.button.offset().top,l=f.height();f.width();e.button.addClass(a.mobile.activeBtnClass);setTimeout(function(){e.button.removeClass(a.mobile.activeBtnClass)},
300);if(k>l-80||!a.support.scrollTop){e.menuPage.appendTo(a.mobile.pageContainer).page();e.menuPageContent=m.find(".ui-content");e.menuPageClose=m.find(".ui-header a");e.thisPage.unbind("pagehide.remove");if(0===g&&h>l)e.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",h)});e.menuPage.one("pageshow",function(){b();e.isOpen=!0});e.menuType="page";e.menuPageContent.append(e.list);e.menuPage.find("div .ui-title").text(e.label.text());a.mobile.changePage(e.menuPage,{transition:a.mobile.defaultDialogTransition})}else e.menuType=
"overlay",e.listbox.one("popupafteropen",b).popup("open",{x:e.button.offset().left+e.button.outerWidth()/2,y:e.button.offset().top+e.button.outerHeight()/2}),e.isOpen=!0}},_buildList:function(){var b=this.options,c=this.placeholder,d=!0,e=this.isMultiple?"checkbox-off":"false";this.list.empty().filter(".ui-listview").listview("destroy");for(var f=this.select.find("option"),g=f.length,k=this.select[0],h="data-"+a.mobile.ns,l=h+"option-index",m=h+"icon",n=h+"role",h=h+"placeholder",q=p.createDocumentFragment(),
r=!1,s,t=0;t<g;t++,r=!1){var v=f[t],u=a(v),z=v.parentNode,E=u.text(),J=p.createElement("a"),M=[];J.setAttribute("href","#");J.appendChild(p.createTextNode(E));z!==k&&"optgroup"===z.nodeName.toLowerCase()&&(z=z.getAttribute("label"),z!==s&&(s=p.createElement("li"),s.setAttribute(n,"list-divider"),s.setAttribute("role","option"),s.setAttribute("tabindex","-1"),s.appendChild(p.createTextNode(z)),q.appendChild(s),s=z));!d||v.getAttribute("value")&&0!==E.length&&!u.jqmData("placeholder")||(d=!1,r=!0,v.setAttribute(h,
!0),b.hidePlaceholderMenuItems&&M.push("ui-selectmenu-placeholder"),c||(c=this.placeholder=E));u=p.createElement("li");v.disabled&&(M.push("ui-disabled"),u.setAttribute("aria-disabled",!0));u.setAttribute(l,t);u.setAttribute(m,e);r&&u.setAttribute(h,!0);u.className=M.join(" ");u.setAttribute("role","option");J.setAttribute("tabindex","-1");u.appendChild(J);q.appendChild(u)}this.list[0].appendChild(q);this.isMultiple||c.length?this.headerTitle.text(this.placeholder):this.header.hide();this.list.listview()},
_button:function(){return a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};a(p).bind("selectmenubeforecreate",function(d){d=a(d.target).data("selectmenu");d.options.nativeMenu||0!==d.element.parents(":jqmData(role='popup')").length||c(d)})})(n);(function(a,h){a.widget("mobile.fixedtoolbar",a.mobile.widget,{options:{visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-popup",
hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){var a=t,d=navigator.userAgent,b=navigator.platform,e=d.match(/AppleWebKit\/([0-9]+)/),e=!!e&&e[1],h=d.match(/Fennec\/([0-9]+)/),h=!!h&&h[1],g=d.match(/Opera Mobi\/([0-9]+)/),f=!!g&&g[1];return(-1<b.indexOf("iPhone")||-1<b.indexOf("iPad")||-1<b.indexOf("iPod"))&&e&&534>e||a.operamini&&"[object OperaMini]"==={}.toString.call(a.operamini)||g&&7458>f||-1<d.indexOf("Android")&&e&&533>e||
h&&6>h||"palmGetResource"in t&&e&&534>e||-1<d.indexOf("MeeGo")&&-1<d.indexOf("NokiaBrowser/8.5.0")?!0:!1},initSelector:":jqmData(position='fixed')"},_create:function(){var a=this.options,d=this.element,b=d.is(":jqmData(role='header')")?"header":"footer",e=d.closest(".ui-page");a.supportBlacklist()?this.destroy():(d.addClass("ui-"+b+"-fixed"),a.fullscreen?(d.addClass("ui-"+b+"-fullscreen"),e.addClass("ui-page-"+b+"-fullscreen")):e.addClass("ui-page-"+b+"-fixed"),this._addTransitionClass(),this._bindPageEvents(),
this._bindToggleHandlers())},_addTransitionClass:function(){var a=this.options.transition;a&&"none"!==a&&("slide"===a&&(a=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(a))},_bindPageEvents:function(){var c=this,d=c.options;c.element.closest(".ui-page").bind("pagebeforeshow",function(){d.disablePageZoom&&a.mobile.zoom.disable(!0);d.visibleOnPageShow||c.hide(!0)}).bind("webkitAnimationStart animationstart updatelayout",function(){d.updatePagePadding&&c.updatePagePadding(this)}).bind("pageshow",
function(){var b=this;c.updatePagePadding(b);d.updatePagePadding&&a(t).bind("throttledresize."+c.widgetName,function(){c.updatePagePadding(b)})}).bind("pagebeforehide",function(b,e){d.disablePageZoom&&a.mobile.zoom.enable(!0);d.updatePagePadding&&a(t).unbind("throttledresize."+c.widgetName);if(d.trackPersistentToolbars){var h=a(".ui-footer-fixed:jqmData(id)",this),g=a(".ui-header-fixed:jqmData(id)",this),f=h.length&&e.nextPage&&a(".ui-footer-fixed:jqmData(id='"+h.jqmData("id")+"')",e.nextPage)||a(),
k=g.length&&e.nextPage&&a(".ui-header-fixed:jqmData(id='"+g.jqmData("id")+"')",e.nextPage)||a();if(f.length||k.length)f.add(k).appendTo(a.mobile.pageContainer),e.nextPage.one("pageshow",function(){f.add(k).appendTo(this)})}})},_visible:!0,updatePagePadding:function(c){var d=this.element,b=d.is(".ui-header");this.options.fullscreen||(c=c||d.closest(".ui-page"),a(c).css("padding-"+(b?"top":"bottom"),d.outerHeight()))},_useTransition:function(c){var d=a(t),b=this.element,d=d.scrollTop(),e=b.height(),
h=b.closest(".ui-page").height(),g=a.mobile.getScreenHeight(),b=b.is(":jqmData(role='header')")?"header":"footer";return!c&&(this.options.transition&&"none"!==this.options.transition&&("header"===b&&!this.options.fullscreen&&d>e||"footer"===b&&!this.options.fullscreen&&d+g<h-e)||this.options.fullscreen)},show:function(a){var d=this.element;this._useTransition(a)?d.removeClass("out ui-fixed-hidden").addClass("in"):d.removeClass("ui-fixed-hidden");this._visible=!0},hide:function(a){var d=this.element,
b="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(a)?d.addClass(b).removeClass("in").animationComplete(function(){d.addClass("ui-fixed-hidden").removeClass(b)}):d.addClass("ui-fixed-hidden").removeClass(b);this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var c=this,d=c.options;c.element.closest(".ui-page").bind("vclick",function(b){d.tapToggle&&!a(b.target).closest(d.tapToggleBlacklist).length&&c.toggle()}).bind("focusin focusout",
function(b){if(500>screen.width&&a(b.target).is(d.hideDuringFocus)&&!a(b.target).closest(".ui-header-fixed, .ui-footer-fixed").length)c["focusin"===b.type&&c._visible?"hide":"show"]()})},destroy:function(){this.element.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden");this.element.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}});a(p).bind("pagecreate create",
function(c){a(c.target).jqmData("fullscreen")&&a(a.mobile.fixedtoolbar.prototype.options.initSelector,c.target).not(":jqmData(fullscreen)").jqmData("fullscreen",!0);a.mobile.fixedtoolbar.prototype.enhanceWithin(c.target)})})(n);(function(a,h){function c(a){b=a.originalEvent;f=b.accelerationIncludingGravity;e=Math.abs(f.x);l=Math.abs(f.y);g=Math.abs(f.z);!h.orientation&&(7<e||(6<g&&8>l||8>g&&6<l)&&5<e)?d.enabled&&d.disable():d.enabled||d.enable()}if(/iPhone|iPad|iPod/.test(navigator.platform)&&-1<
navigator.userAgent.indexOf("AppleWebKit")){var d=a.mobile.zoom,b,e,l,g,f;a(h).bind("orientationchange.iosorientationfix",d.enable).bind("devicemotion.iosorientationfix",c)}})(n,this);(function(a,h,c){function d(){b.removeClass("ui-mobile-rendering")}var b=a("html");a("head");var e=a(h);a(h.document).trigger("mobileinit");a.mobile.gradeA()&&(a.mobile.ajaxBlacklist&&(a.mobile.ajaxEnabled=!1),b.addClass("ui-mobile ui-mobile-rendering"),setTimeout(d,5E3),a.extend(a.mobile,{initializePage:function(){var b=
a(":jqmData(role='page'), :jqmData(role='dialog')"),c=a.mobile.path.parseLocation().hash.replace("#",""),f=p.getElementById(c);b.length||(b=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0));b.each(function(){var b=a(this);b.jqmData("url")||b.attr("data-"+a.mobile.ns+"url",b.attr("id")||location.pathname+location.search)});a.mobile.firstPage=b.first();a.mobile.pageContainer=b.first().parent().addClass("ui-mobile-viewport");e.trigger("pagecontainercreate");a.mobile.showPageLoadingMsg();
d();a.mobile.hashListeningEnabled&&a.mobile.path.isHashValid(location.hash)&&(a(f).is(':jqmData(role="page")')||a.mobile.path.isPath(c)||c===a.mobile.dialogHashKey)?e.trigger("hashchange",[!0]):(a.mobile.path.isHashValid(location.hash)&&(a.mobile.urlHistory.initialDst=c.replace("#","")),a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),a.mobile.navreadyDeferred.resolve(),a(function(){h.scrollTo(0,1);a.mobile.defaultHomeScroll=a.support.scrollTop&&
1!==a(h).scrollTop()?1:0;a.fn.controlgroup&&a(p).bind("pagecreate create",function(b){a(":jqmData(role='controlgroup')",b.target).jqmEnhanceable().controlgroup({excludeInvisible:!1})});a.mobile.autoInitializePage&&a.mobile.initializePage();e.load(a.mobile.silentScroll);a.support.cssPointerEvents||a(p).delegate(".ui-disabled","vclick",function(a){a.preventDefault();a.stopImmediatePropagation()})}))})(n,this)});PROPHOTO.define("plugins/cookie",["jquery"],function(e){e.cookie=function(t,n,r){if(arguments.length>1&&String(n)!=="[object Object]"){r=e.extend({},r);if(n===null||n===undefined)r.expires=-1;if(typeof r.expires=="number"){var i=r.expires,s=r.expires=new Date;s.setDate(s.getDate()+i)}return n=String(n),document.cookie=[encodeURIComponent(t),"=",r.raw?n:encodeURIComponent(n),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}r=n||{};var o,u=r.raw?function(e){return e}:decodeURIComponent;return(o=(new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)")).exec(document.cookie))?u(o[1]):null}});PROPHOTO.define("plugins/easing",["jquery"],function(e){return e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(t,n,r,i,s){return e.easing[e.easing.def](t,n,r,i,s)},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?r*7.5625*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n}}),"easing"});PROPHOTO.define("plugins/image-loaded",["jquery"],function(e){e.fn.imageLoaded=function(e){var t=this.filter("img"),n=t.length;return t.bind("load error",function(){e.call(this)}).each(function(){if(this.complete||this.complete===undefined||this.complete===!1&&navigator.appVersion.indexOf("MSIE 9")!==-1){var e=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",this.src=e}}),this}});PROPHOTO.define("util",["jquery"],function(e){return Function.prototype.bind||(Function.prototype.bind=function(e){if(typeof this!="function")throw new TypeError("Function.prototype.bind - not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),e.fn.toInt=function(t){t=t||"text";var n=parseInt(e(this)[t](),10);return isNaN(n)?0:n},{objectCreate:function(e){function t(){}return t.prototype=e,new t},initObjectsWithWrap:function(t,n,r){t.each(function(t,i){var s=this.objectCreate(n);s[r||"wrap"]=e(i),s.init()}.bind(this))},initFormValidation:function(e){PROPHOTO.require(["form-validator"],function(t){var n=this.objectCreate(t);n.form=e,n.init()}.bind(this))},whenCssLoaded:function(e){var t=window.setInterval(function(){this.cssLoaded()&&(e(),window.clearInterval(t))}.bind(this),100)},cssLoaded:function(){var t=e("body").css("border-left-color");return t==="rgb(255, 0, 0)"||t==="#ff0000"},scrollToBelowElement:function(t,n){var r=e("#fixed-top-wrap"),i,s,o;t.length?(t.is(":visible")?(i=t.offset().top,o=t.height()):(t.show(),i=t.offset().top,t.hide(),o=0),s=i+o,r.length&&(s-=r.outerHeight())):s=0,e("html,body").animate({scrollTop:s+"px"},45,function(){this.nodeName==="HTML"&&typeof n=="function"&&n()})},constrainDims:function(e){var t=e.width,n=e.height;return e.width>e.maxWidth&&(t=e.maxWidth,n=e.maxWidth/(e.width/e.height)),n>e.maxHeight&&(n=e.maxHeight,t=e.maxHeight/(e.height/e.width)),e.el&&e.el.css({width:t+"px",height:n+"px"}),{width:t,height:n}},GET:function(e,t){var n=(t||window.location.href).match(new RegExp("(?:\\?|&)"+e+"=([^&#]+)"));return n&&n[1]?n[1]:!1}}});PROPHOTO.define("grids-overlay",["jquery"],function(e){var t,n=navigator.userAgent.indexOf("Android 4.2.")!==-1;return e(document).ready(function(e){t=e("body")}),e(window).on({scrollstart:function(){t.addClass("scrolling")},scrollstop:function(){setTimeout(t.removeClass.bind(t,"scrolling"),100)}}),function(r){r.find(".grid-style-img_rollover_text .grid-item").on({click:function(t){var r=e(this).find(".grid-overlay"),i=r.find("a:first"),s=i.attr("href");if(n&&r.hasClass("mouseentered"))return!1;if(i.hasClass("popup-slideshow"))return i.trigger("click"),!1;if(s==="#contact-form")return e("body").trigger("show_contact_form"),!1;if(i.attr("target")==="_blank")return window.open(s),!1;window.location.href=s},mouseenter:function(t){var r=e(this),i=r.find(".grid-overlay");i.addClass("overlay-shown"),r.hasClass("overlay-fade")?i.fadeIn(200):i.css("height",r.height()+"px"),n&&(i.addClass("mouseentered"),setTimeout(function(){i.removeClass("mouseentered")},1e3))},mouseleave:function(){var t=e(this),n=t.find(".grid-overlay");n.removeClass("overlay-shown"),t.hasClass("overlay-fade")?n.fadeOut("fast"):n.css("height",t.attr("data-overlay-initial-height")+"px")},touchend:function(n){var r=e(this),i=r.find(".grid-overlay");return t.hasClass("scrolling")?!1:n.target.nodeName==="A"?!0:i.hasClass("overlay-shown")?!0:(r.trigger("mouseenter"),setTimeout(r.trigger.bind(r,"mouseleave"),4e3),!1)}})}});PROPHOTO.define("grids-overlay-mobile",["jquery"],function(e){return{handleSizing:function(t){var n=t.find(".grid-style-img_rollover_text"),r=parseInt(n.filter(":first").attr("data-img-border-width"),10),i=e(".article-content:last").width();if(!n.length||i>=598)return;n.each(function(){var t=e(this);t.find(".grid-item").each(function(){var n=e(this),s=598,o=parseInt(n.attr("data-item-height"),10),u=parseInt(i/(s/o),10),a=i-r,f=n.add(".overlay-bg",n);t.hasClass(".overlay-fade")&&(f=f.add(".grid-overlay",n)),f.css({width:i+"px",height:u+"px"}),n.find("img.grid-img").css("width",a+"px").attr("width",a)})})}}});PROPHOTO.define("element-throbber",["jquery"],function(e){return{start:function(e){var t=!1;e.addClass("throbbing").fadeTo(350,.001).attr("data-throb-interval",setInterval(function(){e.fadeTo(350,t?.001:1),t=!t},350))},stop:function(e){clearInterval(parseInt(e.attr("data-throb-interval"),10)),e.removeClass("throbbing").removeAttr("data-throb-interval").fadeTo(350,1)}}});PROPHOTO.define("contact-form",["jquery","util","element-throbber"],function(e,t,n){var r=PROPHOTO.site.wpURL+"/wp-includes/js/jquery/ui/jquery.ui.datepicker.min.js",i=PROPHOTO.site.wpURL+"/wp-includes/js/jquery/ui/jquery.ui.core.min.js",s="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css",o=function(t,r){var i=e("#pp-contact-error-msg"),s={action:"pp_nopriv",contact_form:"render",ajax:"1"};PROPHOTO.lang&&(s.lang=PROPHOTO.lang),t.find("#contactform").length?(t.find("form").hasClass("validation-initialized")||u(t),t.is(":visible")?t.slideUp(500):a(t)):(r&&n.start(r),e.ajax({type:"POST",url:PROPHOTO.site.ajaxURL,data:s,success:function(n){t.html(n).find("#referpage").val(window.location.href.replace(/#.+/,"")),e("body").trigger("new_page_content_added",[t]),u(t),a(t)},complete:function(){r&&n.stop(r)}})),i.slideUp(500,function(){i.remove()})},u=function(n){var r=n.find("form#contactform"),i=n.find(".pp-field-date-selector"),s=n.find(".pp-field-email");i.length&&l(i),s.length&&PROPHOTO.site.renderingMobile&&s.each(function(){e(this).get(0).type="email"}),t.initFormValidation(r),f(n)},a=function(n){var r=e("header.sc:first");t.scrollToBelowElement(r,function(){n.slideToggle(50,function(){n.is(":visible")&&(n.find("#lastname").trigger("focus"),p("Show Form"))})})},f=function(r){r.find("#contactform").on("submit",function(){return!1}).on("validator_submit_success",function(i){var s=e(this),o=PROPHOTO.site.renderingMobile?s.find("div.ui-submit"):s.find("input[name='submit']"),u=e("header.sc:first");s.hasClass("submitting")||(e("#pp-contact-error-msg").remove(),s.addClass("submitting"),n.start(o),e.ajax({type:"POST",url:PROPHOTO.site.ajaxURL,data:s.serialize(),success:function(n){n.indexOf("Success")!==-1?(PROPHOTO.site.renderingMobile?window.location=c("success"):(r.before(h("success")).prev().delay(3500).slideUp(500,function(){e(this).remove()}),t.scrollToBelowElement(e("header.sc:first"),function(){r.slideUp(500,function(){e("#contactform")[0].reset()})})),p("Submit Form Success")):this.error()},error:function(){PROPHOTO.site.renderingMobile?window.location=c("error"):(r.before(h("error")),t.scrollToBelowElement(e("header.sc:first"))),p("Submit Form Error")},complete:function(){s.removeClass("submitting"),n.stop(o)}}))})},l=function(t){document.createStyleSheet?document.createStyleSheet(s):e("head").append('<link rel="stylesheet" type="text/css" href="'+s+'" />'),e.getScript(i,function(){e.getScript(r,function(){e.datepicker.setDefaults({dateFormat:"%js-date-format-string%"}),t.datepicker()})})},c=function(e){return PROPHOTO.site.URL+"/?mobile_contact_form="+e},h=function(e){var t="Form submitted successfully, thank you.",n="Error submitting form, please try again.";return['<div id="pp-contact-'+e+'-msg" class="pp-contact-submit-msg">',"<p>",e=="success"?t:n,"</p>","</div>"].join("")},p=function(e){typeof _gaq!="undefined"&&_gaq.push(["_trackEvent","ProPhoto Contact Form",e])};return{handleHash:function(t){t==="#contact-form"&&(PROPHOTO.site.renderingMobile?e.mobile.changePage(c("render")):o(this.formWrap))},bindClickEvents:function(){e(document).on("click","a.show-hidden-contact_form,a[href$='#contact-form']",function(t){return o(this.formWrap,e(t.target)),!1}.bind(this))},bindMobileEvents:function(){u(this.formWrap)},bindMobileContactLinks:function(){e(document).on("click","a[href$='#contact-form']",function(){return window.location=c("render"),!1})}}});PROPHOTO.define("slideshow",["jquery","util","plugins/easing"],function(e,t){return e(document).on("click","a.no-link",function(){return!1}),{visibleImgIndex:0,stagedImgIndex:1,superInit:function(){this.startImg.off("load error"),this.wrap.removeClass("not-loaded"),this.visibleImg=this.startImg,this.visibleImgWrap=this.startImg.parent(),this.stagedImgWrap=this.wrap.find("a.nextImg"),this.stagedImg=this.stagedImgWrap.find("img:last"),this.loadingSpinner=this.wrap.find("img.loadingSpinner"),this.invoke("postSuperInit")},invoke:function(e){typeof this[e]=="function"&&this[e]()},preparePreloading:function(){this.conf.imgs[0].ready=!0,this.conf.imgs[0].width=this.startImg.attr("width"),this.conf.imgs[0].height=this.startImg.attr("height"),this.setImgDisplayDims(this.startImg[0],0),this.applyImgDisplayDims(this.startImg,0);for(var e=1;e<this.conf.imgs.length;e++)this.conf.imgs[e].ready=!1},preloadImg:function(e,t){if(!this.conf.imgs[e])return;typeof t=="undefined"&&(t=!0);var n=this.getPreloader(e);n.on("load",function(){this.conf.imgs[e].ready=!0,this.setImgDisplayDims(n[0],e),t&&this.keepPreloading(e)&&setTimeout(function(){this.preloadImg(e+1)}.bind(this),1)}.bind(this)),n.attr("src",this.conf.imgs[e][this.srcProp])},keepPreloading:function(e){return e+1===this.conf.imgs.length&&this.conf.loopImages?(this.getPreloader(0).trigger("load").attr("src",this.conf.imgs[0][this.srcProp]),!1):e>0},getPreloader:function(t){var n=new Image;return e(n)},setImgDisplayDims:function(e,t){var n=this.prepImgDisplayDims(e,t);this.conf.viewingAreaWidth-n.width==1&&(n.width=this.conf.viewingAreaWidth),this.conf.viewingAreaHeight-n.height==1&&(n.height=this.conf.viewingAreaHeight),this.conf.imgs[t].displayWidth=n.width,this.conf.imgs[t].displayHeight=n.height,this.conf.imgs[t].topPadding=(this.conf.viewingAreaHeight-n.height)/2},prepImgDisplayDims:function(e,t){var n,r;return n=this.conf.imgs[t].width=e.width,r=this.conf.imgs[t].height=e.height,n>this.conf.viewingAreaWidth&&(n=this.conf.viewingAreaWidth,r=Math.round(n/(e.width/e.height))),r>this.conf.viewingAreaHeight&&(r=this.conf.viewingAreaHeight,n=Math.round(r/(e.height/e.width))),{width:n,height:r}},applyImgDisplayDims:function(e,t){e.attr("width",this.conf.imgs[t].displayWidth),e.attr("height",this.conf.imgs[t].displayHeight),e.parent().css("padding-top",this.conf.imgs[t].topPadding+"px")},triggerTimedAdvance:function(){this.nextAdvance=setTimeout(function(){this.showImg(this.nextImgIndex())}.bind(this),this.conf.holdTime),typeof this.startTimer=="function"&&this.startTimer()},showImg:function(e){this.conf.imgs[e].ready?(this.hideLoadingSpinner(),this.stageImgForTransition(e),this.animateTransition()):(this.showLoadingSpinner(),this.showImgDelayTimeout&&clearTimeout(this.showImgDelayTimeout),this.showImgDelayTimeout=setTimeout(function(){this.showImg(e)}.bind(this),500))},stageImgForTransition:function(e){this.stagedImgWrap.css(this.setupStagedCSS()),this.stagedImg.attr("src",this.conf.imgs[e][this.srcProp]),typeof this.prepImgWrap=="function"&&this.prepImgWrap(this.stagedImgWrap,e),this.applyImgDisplayDims(this.stagedImg,e),this.stagedImgIndex=e},animateTransition:function(){this.transitioning=!0,this.hideVisibleImg(),this.delayBeforeShowStaged()?setTimeout(this.showStagedImg.bind(this),this.delayBeforeShowStaged()):this.showStagedImg(),setTimeout(this.transitionHalfComplete.bind(this),this.transitionTime()/2)},transitionHalfComplete:function(){this.visibleImgIndex=this.stagedImgIndex},hideVisibleImg:function(){this.visibleImgWrap.animate(this.hideVisibleCSS(),this.transitionTime(),this.transitionEasing())},showStagedImg:function(){this.stagedImgWrap.animate(this.showStagedCSS(),this.transitionTime(),this.transitionEasing(),this.transitionComplete.bind(this))},transitionTime:function(){return this.conf.transitionTime},delayBeforeShowStaged:function(){return this.animations.delayBeforeShowStaged},transitionEasing:function(){return this.animations.easing},setupStagedCSS:function(){return this.animations.setupStaged},showStagedCSS:function(){return this.animations.showStaged},hideVisibleCSS:function(){return this.animations.hideVisible},transitionComplete:function(){this.transitioning=!1,this.switchVisibleStaged(),this.showContinues()?this.triggerTimedAdvance():typeof this.stopShow=="function"&&this.stopShow(),this.invoke("postTransitionComplete")},switchVisibleStaged:function(){var e,t,n,r;e=this.stagedImgWrap,t=this.visibleImgWrap,this.visibleImgWrap=e,this.stagedImgWrap=t,n=this.stagedImg,r=this.visibleImg,this.visibleImg=n,this.stagedImg=r,this.visibleImgWrap.addClass("currentImg").removeClass("nextImg").css("z-index","1"),this.stagedImgWrap.addClass("nextImg").removeClass("currentImg").hide()},setupAnimationObjects:function(){var e=this.conf;this.animations={};switch(e.transitionType){case"steadyslide":case"slide":this.animations.setupStaged={left:e.viewingAreaWidth+"px"},this.animations.showStaged={left:"0"},this.animations.hideVisible={left:"-"+e.viewingAreaWidth+"px"},e.transitionType==="steadyslide"&&e.holdTime!==0&&(this.conf.transitionTime=this.conf.holdTime,this.conf.holdTime=0);break;case"topslide":this.animations.setupStaged={top:"-"+e.viewingAreaHeight+"px"},this.animations.showStaged={top:"0"},this.animations.hideVisible={top:e.viewingAreaHeight+"px"};break;case"fade":case"crossfade":default:this.animations.setupStaged={top:"0",left:"0",opacity:"0"},this.animations.hideVisible={opacity:0},this.animations.showStaged={opacity:1},e.transitionType=="fade"&&(this.midTransitionDelay=e.transitionTime)}this.animations.setupStaged.display="block",this.animations.setupStaged.zIndex="2",this.animations.easing=e.transitionType.indexOf("slide")!==-1?"linear":"jswing",this.animations.delayBeforeShowStaged=e.transitionType==="fade"?e.transitionTime:0},hideLoadingSpinner:function(){this.loadingSpinner.fadeOut("fast"),this.wrap.removeClass("delaying")},showLoadingSpinner:function(){this.loadingSpinner.fadeIn("fast"),this.wrap.addClass("delaying")},nextImgIndex:function(){return this.visibleImgIndex+1>this.conf.imgs.length-1?0:this.visibleImgIndex+1},showContinues:function(){return this.playing?this.conf.loopImages?!0:this.nextImgIndex()!==0:!1}}});PROPHOTO.define("slideshow-orientation",["jquery"],function(e){return{setShowDims:function(){var e=this.dims();this.wrap.add(this.wrap.find(".imgWrap,.imgViewingArea")).css({width:e.width+"px",height:e.height+"px"}),this.conf.slideshowWidth=this.conf.viewingAreaWidth=e.width,this.conf.slideshowHeight=this.conf.viewingAreaHeight=e.height,this.isPortrait()?this.wrap.addClass("portrait").removeClass("landscape"):this.wrap.addClass("landscape").removeClass("portrait")},bindOrientationchange:function(){navigator.userAgent.match(/android/i)?e(window).on("orientationchange",function(){setTimeout(this.onOrientationchange.bind(this),250)}.bind(this)):e(window).on("orientationchange",this.onOrientationchange.bind(this))},onOrientationchange:function(){this.setShowDims(),this.setupAnimationObjects(),this.isGallery&&(this.setupSwipeAnimations(),this.splashScreenVisible&&this.resetSplashScreenCSS()),e.each(this.conf.imgs,function(e,t){this.setImgDisplayDims(this.conf.imgs[e],e)}.bind(this)),this.applyImgDisplayDims(this.visibleImg,this.visibleImgIndex),this.applyImgDisplayDims(this.stagedImg,this.stagedImgIndex)},setFirstImgDims:function(){"naturalWidth"in this.visibleImg[0]&&(this.conf.imgs[0].width=this.visibleImg[0].naturalWidth,this.conf.imgs[0].height=this.visibleImg[0].naturalHeight)},dims:function(){return this.isPortrait()?this.conf.portrait:this.conf.landscape},isPortrait:function(){return window.innerWidth<=window.innerHeight}}});PROPHOTO.define("slideshow-masthead",["jquery","util","slideshow"],function(e,t,n){var r={isGallery:!1,init:function(){this.superInit(),this.srcProp="src",this.frame=e("img#masthead-frame"),this.hasFrame=this.frame.length,this.hasFrame&&e(document).on("click","#masthead-frame.has-link",function(){window.location.href=this.visibleImgWrap.attr("href")}.bind(this)),this.prepImgWrap(this.stagedImgWrap,1),this.prepImgWrap(this.visibleImgWrap,0),this.conf.imageOrder==="random"&&this.randomizeImgs(),this.accountForFullHeightSidebar(),this.initImgPreloading(),this.applyImgDisplayDims(this.visibleImg,0),this.setupAnimationObjects(),this.conf.transitionType==="crossfade"&&(this.animations.hideVisible.opacity=1),this.triggerTimedAdvance(),this.playing=!0,this.invoke("postInit")},prepImgWrap:function(e,t){var n=this.conf.imgs[t];n.linkURL?(e.attr("href",n.linkURL).removeClass("no-link"),this.frame.addClass("has-link")):(e.attr("href","#").addClass("no-link"),this.frame.removeClass("has-link")),n[this.srcProp].indexOf(".png")!==-1?e.addClass("png"):e.removeClass("png")},randomizeImgs:function(){var t=this.conf.imgs,n=[],r=[],i=this.startImg.attr("src"),s=i.replace("."+i.split(".").pop(),""),o=function(e){e.sort(function(){return.5-Math.random()})};e.each(t,function(e,i){t[e][this.srcProp].indexOf(s)===0?(n.push(t[e]),t[e].linkURL&&this.prepImgWrap(this.visibleImgWrap,e)):r.push(t[e])}.bind(this)),o(r),o(r),this.conf.imgs=n.concat(r)},initImgPreloading:function(){this.preparePreloading(),this.preloadImg(1)},accountForFullHeightSidebar:function(){e("body").hasClass("full-height-sidebar")&&(this.conf.viewingAreaHeight=this.conf.withSidebarViewingAreaHeight,this.conf.viewingAreaWidth=this.conf.withSidebarViewingAreaWidth)}};return e.extend({},n,r)});PROPHOTO.define("slideshow-masthead-mobile",["jquery","slideshow-orientation","slideshow-masthead"],function(e,t,n){var r=["320x372","480x212","320x416","480x268"];return e.extend({},n,t,{postSuperInit:function(){var t=window.devicePixelRatio==2,n=this.conf.imgs.retina_old,i;this.conf.imgs=this.conf.imgs[t?"retina":"standard"],navigator&&navigator.userAgent.indexOf("iPhone")!==-1&&(i=e.inArray(window.innerWidth+"x"+window.innerHeight,r)!==-1,this.conf.landscape=i?this.conf.landscape_iPhone_old:this.conf.landscape_iPhone,this.conf.portrait=this.conf.portrait_iPhone,i&&t&&(this.conf.imgs=n)),this.setShowDims()},postInit:function(){this.setFirstImgDims(),this.bindOrientationchange()}})});PROPHOTO.define("777",["jquery"],function(e){var t={parse:function(n){n.length!==1&&(n=e("body"));if(typeof window.fbAsyncInit=="undefined")window.fbAsyncInit=function(){FB.init({logging:!1,xfbml:!0,status:!1}),FB.Event.subscribe("comment.create",function(e){t.newCommentAdded(e)})};else try{FB.XFBML.parse(n[0])}catch(r){}e("#fb-root").length||e("body").append('<div id="fb-root"></div>'),e("#777-jssdk").length||function(e){var t,n="777-jssdk",r=e.getElementsByTagName("script")[0];t=e.createElement("script"),t.id=n,t.async=!0,r.parentNode.insertBefore(t,r)}(document)},newCommentAdded:function(n){var r;try{r=parseInt(e("div[data-href='"+n.href+"']").parents("article").attr("id").replace("article-",""),10)}catch(i){}r&&e.ajax({type:"POST",url:PROPHOTO.site.ajaxURL,data:{action:"pp_nopriv",articleID:r,permalink:n.href,fb_comment_added:1},success:function(e){e.indexOf("No FB comments could be found for")!==-1&&setTimeout(function(){t.newCommentAdded(n)},3e3)}})}};return t});PROPHOTO.define("comments-util",["jquery","util"],function(e,t){return{handleErrorHash:function(t){if(t.indexOf("#addcomment-error-")===0){var n=e("form#add-comment"),r=n.find("textarea"),i=n.find("#addcomment-error");r.val(decodeURIComponent(t.replace("#addcomment-error-","").replace(/%0A/g,"\n"))),i.show().find("span").text(i.attr("data-msg")),e("html,body").animate({scrollTop:n.offset().top+"px"},50,function(){r.focus()})}}}});PROPHOTO.require(["jquery","util","grids-overlay","grids-overlay-mobile","contact-form","777","comments-util"],function($,a,b,c,d,e,f){if($.cookie("retina_display")===null){$.cookie("retina_display",(window.devicePixelRatio&&window.devicePixelRatio>=2),{path:"/",expires:600});}
$(document).on("change","#mobile-footer select",function(){var select=$(this),toURL=select.val();if(toURL.indexOf(PROPHOTO.site.URL)===-1||!true||PROPHOTO.AMD.modules["plugins/swipe"]){select.selectmenu("disable");window.location.href=toURL;}else{if(window.location.href==toURL){select.selectmenu("close");}else{select.selectmenu("disable");$.mobile.changePage(toURL);select.selectmenu("refresh");}}});$(document).ready(function(){var body=$("body");var onNewContent=function(callback){body.on("new_page_content_added",function(e,newContent){callback(newContent);});};b(body);onNewContent(b);c.handleSizing(body);$(document).on("pagehide",function(event,data){b(data.nextPage);c.handleSizing(data.nextPage);});$(window).bind("orientationchange",c.handleSizing.bind(c,body));var initLightboxGalleries=function(context){var lightboxGalleries=context.find(".pp-lightbox.not-loaded");if(lightboxGalleries.length){if(!PROPHOTO.site.renderingMobile){lightboxGalleries.filter(".format-masonry").each(function(){var thumbWrap=$(this).find(".pp-lightbox-thumbs"),gutter=parseInt(thumbWrap.attr("data-gutter"),10),colCount=parseInt(thumbWrap.attr("data-col-count"),10),colWidth=parseInt(thumbWrap.find(".pp-lb-thumb:first").attr("width"),10),columns=[];for(var i=0;i<colCount;i++){columns.push(0);}
thumbWrap.find("a").each(function(){var thumb=$(this),shortestColHeight=Math.min.apply(Math,columns),shortestColIndex=_.indexOf(columns,shortestColHeight),leftPosition=shortestColIndex*(colWidth+gutter);thumb.css({left:leftPosition+"px",top:shortestColHeight+"px"});columns[shortestColIndex]=shortestColHeight+parseInt(thumb.find("img.pp-lb-thumb").attr("height"),10)+gutter;});thumbWrap.css("height",Math.max.apply(Math,columns)+"px");});}
PROPHOTO.require(["plugins/lightbox"],function(){lightboxGalleries.each(function(){var gallery=$(this);gallery.find("a").prophotoLightbox({img_blank:PROPHOTO.site.themeURL+"/images/blank.gif",img_loading:'http://www.industrialalp.com/blog/wp-content/uploads/pp/images/ajax-loading-bar.gif',img_btn_prev:'http://www.industrialalp.com/blog/wp-content/uploads/pp/images/lightbox-btn-prev.gif',img_btn_next:'http://www.industrialalp.com/blog/wp-content/uploads/pp/images/lightbox-btn-next.gif',img_btn_close:'http://www.industrialalp.com/blog/wp-content/uploads/pp/images/lightbox-btn-close.png',img_fadespeed:400,border_width:10,resize_speed:400,fixed_navigation:false,btns_opacity:0.65,btn_fadespeed:200,overlay_color:'#000000',overlay_opacity:0.8,translate_image:"Image",translate_of:"of"},gallery.attr("id"));gallery.find(".pp-lightbox-thumbs a").css("opacity",0.65).hover(function(){$(this).stop().animate({opacity:1},200);},function(){$(this).stop().animate({opacity:0.65},200);});gallery.removeClass(".not-loaded");});});}};initLightboxGalleries(body);onNewContent(initLightboxGalleries);body.on("pagebeforeshow",initLightboxGalleries.bind({},body));var contactForm=a.objectCreate(d);if(body.hasClass("mobile")){var mobileFormInit=function(){contactForm.formWrap=$("#contact-form");contactForm.bindMobileContactLinks();if(contactForm.formWrap.length){contactForm.bindMobileEvents();}};$(document).on("pageinit",mobileFormInit);mobileFormInit();}else{contactForm.formWrap=$("#contact-form");contactForm.handleHash(window.location.hash);contactForm.bindClickEvents();body.on("show_contact_form",function(){contactForm.handleHash("#contact-form");});}
if(window.devicePixelRatio==2){var swapRetinaSrc=function(context){context.find("img[data-src-2x],.pp-lightbox a[data-src-2x]").each(function(i,el){var $el=$(el),attr=$el.attr("data-lazyload-src")?"data-lazyload-src":el.nodeName=="A"?"href":"src";$el.attr(attr,$el.attr("data-src-2x"));});};onNewContent(swapRetinaSrc);swapRetinaSrc(body);}
var initSliders=function(context){var sliders=context.find(".pp-slider");if(sliders.length){PROPHOTO.require(["backbone"]);PROPHOTO.require(["slider/slider"],function(sliderGalleryProto){sliders.each(function(index,el){var slider=a.objectCreate(sliderGalleryProto);slider.wrap=$(el);slider.config={"navSize":8,"navFormat":"dots","navOverlaid":false,"navSeparation":0,"btnsOverlaid":true,"btnSize":0.25,"showCaptions":true,"captionsStartVisible":true,"exifStartVisible":false,"showExif":true,"iconStyle":"chevron","imgBorderWidth":"0","imgSpacing":0};slider.init();});});if(!$("head #fa-styles").length){$("head").append('<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet" id="fa-styles">');}}};initSliders(body);onNewContent(initSliders);body.on("pagebeforeshow",initSliders.bind({},body));var initGallerySlideshows=function(){var slideshows=$(".pp-slideshow-gallery.not-loaded");if(slideshows.length){PROPHOTO.require(["slideshow"]);PROPHOTO.require(["slideshow-gallery"],function(slideshowGalleryProto){slideshows.each(function(){var wrap=$(this),startImg=wrap.find("img.ss-first-img");startImg.imageLoaded(function(){var slideshow=a.objectCreate(slideshowGalleryProto);slideshow.wrap=wrap;slideshow.startImg=startImg;slideshow.conf=$.extend({},{"thumbPadding":10,"thumbOpacity":0.75,"activeThumbOpacity":1,"startPlaying":true,"controlsOverlaid":true,"controlsAutoHide":true,"controlsAutoHideTime":2200,"holdTime":2500,"transitionTime":1200,"loopImages":true,"transitionType":"fade","thumbsPagingAnimation":{"easing":"easeOutExpo","speed":900}},$.parseJSON(slideshow.wrap.find("script").html()));slideshow.init();});});});}};initGallerySlideshows(body);onNewContent(initGallerySlideshows);body.on("pagebeforeshow",initGallerySlideshows.bind({},body));var bindSlideshowPopupClicks=function(context){context.find("a.popup-slideshow").on("click",function(){var clicked=$(this),width,height,params,dims,offset,href;if(PROPHOTO.browser.isTouchDevice){href=clicked.attr("href");if(body.hasClass("ipad")){window.location.href=href+"&fullscreen=1";}else{window.location.href=href.replace("slideshow_popup=1","gallery_page=slideshow");}}else{if(clicked.hasClass("fullscreen")){width=screen.availWidth;height=screen.availHeight;}else{dims=clicked.attr("rel").split("x");width=dims[0];height=dims[1];offset=",left=20,screenX=20,top=20,screenY=20";}
params="location=0,menubar=0,height="+height+",width="+width+",toolbar=0,scrollbars=0,status=0,resizable=0"+offset;window.open(clicked.attr("href"),"PopupWindow",params);}
return false;});};bindSlideshowPopupClicks(body);onNewContent(bindSlideshowPopupClicks);body.on("pagebeforeshow",bindSlideshowPopupClicks.bind({},body));var initSlideshowMusicPlayers=function(context){var slideshowsWithMusic=context.find(".pp-slideshow-gallery").has(".mp3player.not-initialized");if(slideshowsWithMusic.length){PROPHOTO.require(["music-player"],function(musicPlayerProto){slideshowsWithMusic.each(function(){var musicPlayer=a.objectCreate(musicPlayerProto);musicPlayer.slideshow=$(this);musicPlayer.conf={"loop":true,"autoStart":true};musicPlayer.init();});});}};initSlideshowMusicPlayers(body);onNewContent(initSlideshowMusicPlayers);var mhModule=PROPHOTO.site.renderingMobile?"slideshow-masthead-mobile":"slideshow-masthead";PROPHOTO.require([mhModule],function(mhsProto){var initMastheadSlideshow=function(){var mhsWrap=$("#masthead-slideshow.not-loaded");if(mhsWrap.length){var mhsImg=mhsWrap.find("img.ss-first-img");mhsImg.imageLoaded(function(){var mhs=a.objectCreate(mhsProto);mhs.wrap=mhsWrap;mhs.startImg=mhsImg;mhs.conf={"imgs":{"standard":[{"src":imgDir+"masthead_image5_1301094433(pp_w598_h200).jpg","linkURL":false},{"src":imgDir+"masthead_image6_1301412349(pp_w598_h200).jpg","linkURL":false}],"retina":[{"src":imgDir+"masthead_image5_1301094433.jpg","linkURL":false},{"src":imgDir+"masthead_image6_1301412349.jpg","linkURL":false}],"retina_old":[{"src":imgDir+"masthead_image5_1301094433.jpg","linkURL":false},{"src":imgDir+"masthead_image6_1301412349.jpg","linkURL":false}]},"holdTime":7000,"transitionTime":2000,"imageOrder":"random","loopImages":true,"transitionType":"crossfade","portrait":{"width":360,"height":120},"landscape":{"width":598,"height":200},"portrait_iPhone":{"width":320,"height":107},"landscape_iPhone":{"width":568,"height":190},"landscape_iPhone_old":{"width":480,"height":160}};mhs.init();});}};initMastheadSlideshow();body.on("pagebeforeshow",initMastheadSlideshow);});PROPHOTO.fb_lang='en_US';e.parse(body);onNewContent(e.parse.bind(e));body.on("pagebeforeshow",e.parse.bind(e));if(body.hasClass("single")){var form=$("form#add-comment");if(form.length){form.on("focus","input,textarea",function(){a.initFormValidation(form);});}}
;});});}());// JavaScript Document